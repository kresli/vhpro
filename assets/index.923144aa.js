var fr=Object.defineProperty,pr=Object.defineProperties;var vr=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var ze=(e,t,r)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S=(e,t)=>{for(var r in t||(t={}))bt.call(t,r)&&ze(e,r,t[r]);if(Ae)for(var r of Ae(t))Et.call(t,r)&&ze(e,r,t[r]);return e},M=(e,t)=>pr(e,vr(t));var ve=(e,t)=>{var r={};for(var a in e)bt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Ae)for(var a of Ae(e))t.indexOf(a)<0&&Et.call(e,a)&&(r[a]=e[a]);return r};var Qe=(e,t,r)=>(ze(e,typeof t!="symbol"?t+"":t,r),r);import{j as h,a as s,S as he,c as _,r as f,F as ke,D as _t,o as hr,q as mr,L as Nt,N as gr,u as J,b as De,d as wr,C as xr,B as yr,U as br,e as Er,f as Ot,O as _r,g as Nr,h as Tt,i as Or,k as Tr,l as Ct,m as ee,n as Cr,p as Rr,P as Sr,R as Ir,s as Ar,t as kr,v as Dr,Q as Mr,w as Lr,x as Pr,y as jr}from"./vendor.8c97d32d.js";const Ur=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}};Ur();const Me=({navigation:e,children:t,title:r,breadcrumbs:a,sections:n})=>h("div",{className:"bg-secondary-600/10 w-screen h-screen flex  overflow-hidden flex-col",children:[e&&s(Yr,{breadcrumbs:a,title:r,sections:n}),s("div",{className:"flex flex-col w-full h-full overflow-hidden",children:s("div",{className:"flex overflow-hidden flex-1 flex-col",children:t})})]}),Rt=({field:e})=>{const{setValue:t,value:r,config:a}=e,{label:n,type:i,placeholder:o}=a;return h("div",{className:"flex flex-col flex-1 w-full",children:[n&&s("span",{className:"block text-sm font-medium text-gray-700",children:n}),h("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(he,{className:"text-gray-500 w-5"})}),s("input",{type:i,value:r,onChange:({currentTarget:l})=>t(l.value),placeholder:o,className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})]})},me=({label:e,onClick:t,disabled:r=!1,loading:a=!1,intent:n="none",children:i})=>h("button",{disabled:r,onClick:t,className:_("disabled:bg-secondary-300 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 inline-flex items-center px-4 py-2 border","border-transparent rounded-md shadow-sm text-sm","h-full","font-medium","focus:outline-none focus:ring-2 focus:ring-offset-2","text-white",{"text-white bg-primary-600 hover:bg-primary-700":n==="primary","bg-white border border-gray-300 shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-100":n==="none"}),children:[a&&s("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:s("div",{className:"border-2 border-transparent  border-t-white rounded-full w-4 h-4 animate-spin"})}),e||i]}),Vr=({className:e})=>h("svg",{width:"39",height:"31",viewBox:"0 0 39 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[s("path",{d:"M13.139 17.8109L9.41569 9.84675C8.8792 8.69921 9.19767 7.3446 10.1937 6.53764L17.4618 0.648871C18.5296 -0.21629 20.0807 -0.216291 21.1485 0.648871L28.4166 6.53764C29.4126 7.3446 29.7311 8.69921 29.1946 9.84675L25.4712 17.8109C25.004 18.8103 23.9791 19.4519 22.8499 19.4519H15.7603C14.6312 19.4519 13.6063 18.8103 13.139 17.8109Z",fill:"#29bdae"}),s("path",{d:"M3.96056 28.6602L0.419433 21.0948C-0.118041 19.9465 0.200836 18.5906 1.19816 17.7835L8.10503 12.1941C9.17239 11.3303 10.7218 11.3303 11.7891 12.1941L18.696 17.7835C19.6933 18.5906 20.0122 19.9465 19.4747 21.0948L15.9336 28.6602C15.4661 29.659 14.4415 30.3001 13.3128 30.3001H6.58134C5.45266 30.3001 4.42807 29.659 3.96056 28.6602Z",fill:"#29bdae"}),s("path",{d:"M22.698 29.2987L19.1065 21.1107C18.5885 19.93 18.9629 18.558 20.0148 17.7822L26.9229 12.6869C27.9518 11.928 29.3746 11.928 30.4035 12.6869L37.3116 17.7822C38.3635 18.558 38.7378 19.93 38.2199 21.1107L34.6284 29.2987C34.1758 30.3305 33.1335 31 31.9798 31H25.3466C24.1929 31 23.1506 30.3305 22.698 29.2987Z",fill:"#29bdae"})]}),St=({isLastItem:e,isFirstItem:t,width:r,header:a,onResizeStart:n})=>{const{label:i,stickyColumn:o}=a;return h("div",{className:_("flex","relative","border-b border-gray-200",{"sticky left-0 z-30 bg-gray-50":o&&t,"flex-1":e}),style:{width:e?void 0:r,boxShadow:"inset 0 -2px 0 rgb(229 231 235)"},children:[s("div",{className:_("w-full","whitespace-nowrap","shrink-0","text-ellipsis","overflow-hidden","px-6 py-3 text-left text-xs font-medium","text-gray-500 uppercase tracking-wider","bg-gray-50"),children:i}),!e&&s(_t,{onMouseDown:n,className:_("w-4 absolute top-0","-right-2 h-full text-gray-300 cursor-col-resize","z-20")})]})},Wr=({headers:e,columnsWidth:t,onColumnsWidthChange:r,RowAction:a})=>{const n=f.exports.useRef(t);n.current=t;const i=f.exports.useCallback(o=>{const l=u=>{u.stopImmediatePropagation(),u.preventDefault();const c=[...n.current];c[o]+=u.movementX,r(c)},d=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",d)};window.addEventListener("mouseup",d),window.addEventListener("mousemove",l)},[r]);return s("div",{className:"bg-gray-50 sticky top-0 z-10",children:h("div",{className:"flex flex-row",children:[e.map((o,l)=>s(St,{header:o,isLastItem:!a&&l===e.length-1,isFirstItem:l===0,width:t[l],onResizeStart:()=>i(l)},o.label)),a&&s(St,{header:{label:"",RowCell:()=>s(ke,{})},isLastItem:!0,isFirstItem:!1,onResizeStart:()=>{}})]})})},$r=({row:e,width:t,stickyColumn:r,RowCell:a,isEvenRow:n})=>s("div",{style:{width:t,minWidth:t,maxWidth:t,boxShadow:r?"inset -1px 0 0 rgb(229 231 235)":void 0},className:_("p-0","shrink-0","overflow-hidden","flex","flex-1","group-hover:bg-gray-100",{"sticky left-0 z20 bg-white":r,"bg-gray-50":!n}),children:s(a,S({},e))}),Br=({row:e,selectedRowId:t,onRowClick:r,headers:a,columnsWidth:n,RowAction:i,rowId:o,isEvenRow:l})=>{const d=t===o;return h("div",{className:_("flex","group","cursor-pointer","hover:bg-black/5","text-gray-700",{"hover:bg-slate-300":d,"bg-slate-300":d,"text-gray-800":d}),onClick:()=>r==null?void 0:r(e),children:[a.map((u,c)=>{const{RowCell:m,stickyColumn:g}=u,v=!i&&c===a.length-1?void 0:n[c];return s($r,{width:v,stickyColumn:g,RowCell:m,row:e,isEvenRow:l},u.label)}),i&&s("div",{className:"group-hover:sticky right-0 z20 flex flex-1",children:s(i,S({},e))})]},o)},Le=({headers:e,data:t,getRowId:r,selectedRowId:a,onRowClick:n,showHeader:i=!0,RowAction:o})=>{const[l,d]=f.exports.useState(()=>e.map(({defaultWidth:u})=>u!=null?u:200));return s("div",{className:"flex flex-col flex-1 overflow-hidden",children:s("div",{className:"shadow border-b border-gray-200 overflow-auto flex flex-1",children:h("div",{className:"h-fit relative border-b border-black/10 flex-1",children:[i&&s(Wr,{columnsWidth:l,headers:e,onColumnsWidthChange:d,RowAction:o}),s("div",{className:"divide-y divide-black/10 w-auto",children:t.map((u,c)=>{const m=r(u);return s(Br,{rowId:m,row:u,selectedRowId:a,headers:e,columnsWidth:l,RowAction:o,onRowClick:n,isEvenRow:c%2==0},m)})})]})})})};function Fr(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))}function Hr(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}function Gr(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))}var Ye;(function(e){e.ADMIN="admin",e.VIEW_USER="view_user",e.EDIT_USER="edit_user",e.DELETE_USER="delete_user",e.VIEW_ROLES="view_roles",e.VIEW_ORGANISATIONS="view_organisations",e.VIEW_ORGANISATION="view_organisation",e.EDIT_ORGANISATION="edit_organisation",e.DELETE_ORGANISATION="delete_organisation",e.CREATE_ORGANISATION="create_organisation",e.EDIT_USER_ROLES="edit_user_roles",e.VIEW_ADMIN_ACTIONS="view_admin_actions",e.RESET_USER_PASSWORD="reset_user_password",e.CREATE_PROJECT="create_project",e.VIEW_PROJECTS="view_projects",e.VIEW_PROJECT="view_project",e.EDIT_PROJECT="edit_project",e.DELETE_PROJECT="delete_project",e.VIEW_ORGANISATION_USERS="view_organisation_users",e.CREATE_ORGANISATION_USERS="create_organisation_users",e.DELETE_ORGANISATION_USERS="delete_organisation_users",e.VIEW_PROJECT_USERS="view_project_users",e.INVITE_PROJECT_USERS="invite_project_users",e.VIEW_USER_DASHBOARD="view_user_dashboard",e.VIEW_USER_DASHBOARD_REPORTS="view_user_dashboard_reports",e.EDIT_PROJECT_USER="edit_project_user",e.VIEW_PROJECT_USER="view_project_user",e.DELETE_PROJECT_USER="delete_project_user",e.CREATE_QUESTIONNAIRE_SCHEDULE="create_questionnaire_schedule",e.VIEW_QUESTIONNAIRE_SCHEDULES="view_questionnaire_schedules",e.DELETE_QUESTIONNAIRE_SCHEDULE="delete_questionnaire_schedule",e.VIEW_QUESTIONNAIRE_SCHEDULE="view_questionnaire_schedule",e.EDIT_QUESTIONNAIRE_SCHEDULE="edit_questionnaire_schedule",e.VIEW_PROJECT_STAFF_MEMBER="view_project_staff_member",e.VIEW_PROJECT_STAFF_MEMBERS="view_project_staff_members",e.CREATE_PROJECT_STAFF_MEMBER="create_project_staff_member",e.EDIT_PROJECT_STAFF_MEMBER="edit_project_staff_member",e.DELETE_PROJECT_STAFF_MEMBER="delete_project_staff_member",e.EDIT_PROJECT_QUESTIONNAIRE_SETTINGS="edit_project_questionnaire_settings",e.EDIT_QUESTIONNAIRE_SETTINGS_OUTCOMES_MEASURES="edit_questionnaire_settings_outcomes_measures",e.VIEW_QUESTIONNAIRE_SETTINGS_OUTCOMES_MEASURES="view_questionnaire_settings_outcomes_measures",e.VIEW_PROJECT_USERS_ANONYMISED="view_project_users_anonymised",e.EDIT_PROJECT_USERS="edit_project_users",e.DELETE_PROJECT_USERS="delete_project_users",e.WITHDRAW_CONSENT_PROJECT_USERS="withdraw_consent_project_users",e.VIEW_PROJECT_OVERVIEW="view_project_overview",e.VIEW_PROJECT_DASHBOARD_FILTERS="view_project_dashboard_filters",e.VIEW_USER_DASHBOARD_FILTERS="view_user_dashboard_filters",e.VIEW_USER_DASHBOARD_WEIGHT="view_user_dashboard_weight",e.VIEW_USER_DASHBOARD_CALENDAR="view_user_dashboard_calendar",e.VIEW_USER_DASHBOARD_TEMPERATURE="view_user_dashboard_temperature",e.VIEW_USER_QUESTIONNAIRE_EVENT_RESULTS="view_user_questionnaire_event_results",e.VIEW_USER_SYMPTOM_LOGS="view_user_symptom_logs",e.VIEW_USER_SYMPTOM_RED_FLAGS="view_user_symptom_red_flags",e.VIEW_USER_SYMPTOM_VALIDATION="view_user_symptom_validation",e.VIEW_USER_SYMPTOM_TRENDS="view_user_symptom_trends",e.VIEW_USER_MED_ADHERENCE="view_user_med_adherence",e.VIEW_USER_ACTIVITIES="view_user_activities",e.DATA_EXPORT_IDENTIFIABLE="data_export_identifiable",e.DATA_EXPORT_ANONYMISED="data_export_anonymised",e.VIEW_USER_LISTING_ANONYMISED="view_user_listing_anonymised",e.VIEW_PROJECT_DATA_MED_ADHERENCE="view_project_data_med_adherence",e.VIEW_PROJECT_DATA_QUESTIONNAIRE_BREAKDOWN="view_project_data_questionnaire_breakdown",e.VIEW_PROJECT_DATA_QUESTIONNAIRE_LONGITUDINAL="view_project_data_questionnaire_longitudinal",e.VIEW_PROJECT_DATA_TEMPERATURE="view_project_data_temperature",e.VIEW_PROJECT_DATA_SYMPTOM_LOGS="view_project_data_symptom_logs",e.VIEW_PROJECT_DATA_WEIGHT_TRENDS="view_project_data_weight_trends",e.VIEW_PROJECT_DATA_ACTIVITY_TRENDS="view_project_data_activity_trends",e.VALIDATE_USER_LOG="validate_user_log",e.VIEW_PROJECT_USERS_SYMPTOM_COUNTS="view_project_users_symptom_counts",e.VIEW_PROJECT_ARTICLES="view_project_articles",e.EDIT_DISABLE_MEDS_APPOINTMENT_NOTES="edit_disable_meds_appointment_notes",e.VIEW_DISABLE_MEDS_APPOINTMENT_NOTES="view_disable_meds_appointment_notes",e.VIEW_PROJECT_CONSENT_MESSAGE="view_project_consent_message",e.EDIT_PROJECT_CONSENT_MESSAGE="edit_project_consent_message",e.VIEW_PATIENT_PARTICIPATION_DURATION="view_patient_participation_duration",e.EDIT_PATIENT_PARTICIPATION_DURATION="edit_patient_participation_duration",e.VIEW_QUESTIONNAIRE_TYPES="view_questionnaire_types",e.UPLOAD_PROJECT_IMAGE="upload_project_image"})(Ye||(Ye={}));function qr(e,t){const r=f.exports.useRef(t);r.current=t;const a=1e3*60;f.exports.useEffect(()=>{if(!e)return;const{exp:n}=hr(e),i=n*1e3-a,o=new Date().getTime();if(i<o){r.current();return}const l=setTimeout(r.current,i-o);return()=>clearTimeout(l)},[e,a])}function Jr(e,[t,r]){const[a,n]=f.exports.useState(),i=f.exports.useMemo(()=>!!t.accessToken&&!a,[t.accessToken,a]);f.exports.useEffect(()=>{t.accessToken&&!a&&e.getUser().then(({user:c})=>n(c))},[e,t.accessToken,a]),qr(t.accessToken,async()=>{const{accessToken:c}=await e.refetchAccessToken();r(M(S({},t),{accessToken:c}))});const o=f.exports.useCallback(async c=>{const{user:m,tokens:g}=await e.login(c);r(g),n(m)},[e,r]),l=f.exports.useCallback(async()=>{r({accessToken:null,refreshToken:null}),e.logout()},[e,r]),d=f.exports.useMemo(()=>!!a,[a]),u=f.exports.useMemo(()=>(a==null?void 0:a.permissions.includes(Ye.ADMIN))||!1,[a==null?void 0:a.permissions]);return{signIn:o,signOut:l,user:a,isAdmin:u,loading:i,isSigned:d}}const It=f.exports.createContext(null),Xe=()=>f.exports.useContext(It),At=e=>M(S({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),diagnosisDate:new Date(e.diagnosisDate),dob:new Date(e.dob)}),Ke=e=>M(S({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated)}),kt=e=>M(S({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),startDate:new Date(e.startDate),endDate:e.endDate?new Date(e.endDate):null,organisation:Ke(e.organisation)}),Dt=e=>M(S({},e),{dateConsentGiven:new Date(e.dateConsentGiven),dateConsentRevoked:new Date(e.dateConsentRevoked),dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),dob:e.dob?new Date(e.dob):null,questionnairesEarliestDate:new Date(e.questionnairesEarliestDate),questionnairesLatestDate:new Date(e.questionnairesLatestDate),reportsEarliestDate:new Date(e.reportsEarliestDate),reportsLatestDate:new Date(e.reportsLatestDate)});class Pe{constructor(t,r){Qe(this,"apiEndpoint");this.accessToken=r,this.apiEndpoint=t.replace(/\/$/,"")}getUrl(t){const r=t[0]==="/"?t:`/${t}`;return`${this.apiEndpoint}${r}`}post(t,r,a){return Pe.post(this.getUrl(t),r,S({token:this.accessToken||""},a))}get(t,r){return Pe.get(this.getUrl(t),S({token:this.accessToken||""},r))}static async post(t,r,a){const n=new Headers({"Content-Type":"application/json"});return(a==null?void 0:a.token)&&n.set("Authorization",`Bearer ${a.token}`),fetch(t,{method:"POST",referrerPolicy:"no-referrer",headers:n,body:JSON.stringify(r||{})}).then(async i=>({data:await i.json(),headers:i.headers}))}static async get(t,r){const a=new Headers({"Content-Type":"application/json"});(r==null?void 0:r.token)&&a.set("Authorization",`Bearer ${r.token}`);const n=(r==null?void 0:r.params)?mr.stringify(r==null?void 0:r.params):"",i=n?`?${n}`:"";return fetch(`${t}${i}`,{method:"GET",referrerPolicy:"no-referrer",headers:a}).then(async o=>({data:await o.json(),headers:o.headers}))}}class zr{constructor(t,r){Qe(this,"fetch");this.apiEndpoint=t,this.tokens=r,this.fetch=new Pe(this.apiEndpoint,this.tokens.accessToken)}get hasAccessToken(){return!!this.tokens.accessToken}async login(t){const{data:{accessToken:r,refreshToken:a,user:n}}=await this.fetch.post("/auth/login",t);return{tokens:{accessToken:r,refreshToken:a},user:At(n)}}async getUser(){const t=await this.fetch.get("/current");return{user:At(t.data)}}async getOrganisations({page:t=1,perPage:r=25,term:a=""}){const n="/admin/organisations",i=await this.fetch.get(n,{params:{_page:t,_perPage:r,term:a}}),o=i.data.map(Ke),l=parseInt(i.headers.get("x-total-count")||"");return{organisations:o,totalCount:l}}async getOrganisation(t){const r=await this.fetch.get(`admin/organisations/${t}`);return{payload:r,data:Ke(r.data)}}async getPrograms({page:t=1,perPage:r=25,term:a="",organisationId:n}){const i=await this.fetch.get("admin/projects",{params:{_page:t,_perPage:r,organisationId:n,term:a}}),o=parseInt(i.headers.get("x-total-count")||""),l=i.data.map(kt);return{totalCount:o,programs:l}}async getProgram(t){const r=await this.fetch.get(`admin/projects/${t}`);return{payload:r,data:kt(r.data)}}async refetchAccessToken(){const{refreshToken:t}=this.tokens;if(!t)return{accessToken:null};const{data:{accessToken:r}}=await this.fetch.post("/auth/refresh",{},{token:t});return{accessToken:r}}async getPatients({page:t=1,perPage:r=25,term:a="",consentedOnly:n=!1,programId:i}){const o=await this.fetch.get(`/admin/projects/${i}/users`,{params:{_page:t,_perPage:r,term:a,consentedOnly:n}});return{totalCount:parseInt(o.headers.get("x-total-count")||""),patients:o.data.map(Dt)}}async getPatient({participantId:t,programId:r}){const a=await this.fetch.get(`admin/projects/${r}/users/${t}`);return{payload:a,data:Dt(a.data)}}async getMedications({programId:t,startDate:r,endDate:a}){const{data:n}=await this.fetch.get(`/pro-dashboard/projects/${t}/reports/medication`,{params:{startDate:r.toISOString(),endDate:a.toISOString()}});return n}async getSymptomps({programId:t,startDate:r,endDate:a}){const{data:n}=await this.fetch.get(`/pro-dashboard/projects/${t}/reports/symptoms`,{params:{startDate:r.toISOString(),endDate:a.toISOString()}});return n}async logout(){return this.fetch.post("auth/logout")}}const Qr=(e,[t])=>f.exports.useMemo(()=>new zr(e.apiEndpoint,{accessToken:t.accessToken,refreshToken:t.refreshToken}),[e.apiEndpoint,t.accessToken,t.refreshToken]),Mt=f.exports.createContext(null),z=()=>f.exports.useContext(Mt);function Yr({breadcrumbs:e,title:t,sections:r}){const a=Xe();return h("div",{className:_("h-44 flex-shrink-0 bg-gradient-to-r","to-gray-800 from-secondary-900 flex flex-row"),children:[h("div",{className:"flex flex-col p-4 justify-center items-center",children:[s(Vr,{className:"w-14 h-14 flex-shrink-0"}),s("span",{className:"text-primary-400 text-xl inline-flex",children:"VHPRO"})]}),h("div",{className:"flex flex-1 flex-col justify-center items-center",children:[s("div",{className:"flex whitespace-nowrap space-x-8 flex-1",children:e==null?void 0:e.map(({href:n,label:i,Icon:o})=>h(Nt,{to:n,className:_("text-gray-400 flex flex-1 items-end","hover:text-white"),children:[s(o,{className:"w-6 mr-2"})," ",i]},i))}),s("div",{className:_("justify-center items-center flex flex-1 text-4xl","text-gray-300 whitespace-nowrap p-2"),children:t}),s("div",{className:"flex justify-center text-secondary-200/50 h-11",children:r==null?void 0:r.map(({label:n,link:i,Icon:o})=>h(gr,{to:i,activeClassName:"text-primary-500 font-normal border-primary-500",className:_("hover:text-gray-300","px-5","border-transparent","border-b-4","flex-inline","whitespace-nowrap","py-2","flex"),children:[o&&s(o,{className:"w-6 mr-2"}),s("span",{children:n})]},n))})]}),h("div",{className:"flex flex-row items-start p-4",children:[s("button",{onClick:()=>a.signOut(),children:" sign out"}),h("button",{type:"button",className:"bg-gray-800 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[s("span",{className:"sr-only",children:"View notifications"}),s(Fr,{className:"h-6 w-6","aria-hidden":"true"})]}),s(Gr,{className:"w-6 h-6 text-gray-400 ml-3"})]})]})}const{fromEntries:Ze,entries:et}=Object;function Xr(e){const t=f.exports.useMemo(()=>Ze(et(e).map(([o,{defaultValue:l}])=>[o,l])),[e]),[r,a]=f.exports.useState({}),n=f.exports.useMemo(()=>Ze(et(t).map(([o,l])=>[o,r[o]||l])),[t,r]),i=f.exports.useMemo(()=>Ze(et(e).map(([o,l])=>[o,{value:n[o],setValue:d=>a(M(S({},n),{[o]:d})),config:l}])),[e,n]);return{values:n,fields:i}}const Kr=e=>{const t=f.exports.useRef(!0);return f.exports.useEffect(()=>(t.current=!0,e==null||e(),()=>{t.current=!1}),[]),t},tt="token",rt="refresh_token";function Lt(){return{accessToken:localStorage.getItem(tt),refreshToken:localStorage.getItem(rt)}}function Zr(){const[e,t]=f.exports.useState(()=>Lt()),{accessToken:r,refreshToken:a}=e,n=f.exports.useCallback(i=>{t(i);const{accessToken:o,refreshToken:l}=i;o?localStorage.setItem(tt,o):localStorage.removeItem(tt),l?localStorage.setItem(rt,l):localStorage.removeItem(rt)},[]);return f.exports.useEffect(()=>{const i=()=>{const o=Lt();o.accessToken===r&&o.refreshToken===a||t(o)};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[r,a]),[e,n]}function ea({organisationId:e}){const t=z(),n=J(["organisation",e],async()=>(await t.getOrganisation(e)).data),{data:r}=n,a=ve(n,["data"]);return M(S({},a),{organisation:r||null})}function ta({page:e,perPage:t}){const r=z(),i=J([e,t],()=>r.getOrganisations({page:e,perPage:t})),{data:a}=i,n=ve(i,["data"]);return M(S({},n),{organisations:(a==null?void 0:a.organisations)||[],totalCount:(a==null?void 0:a.totalCount)||0})}function ae({programId:e}){const t=z(),n=J([e],async()=>(await t.getProgram(e)).data),{data:r}=n,a=ve(n,["data"]);return M(S({},a),{program:r})}function ra({organisationId:e}){const t=z(),{data:r}=J(["programs",e],()=>t.getPrograms({organisationId:e}));return{programs:(r==null?void 0:r.programs)||[],totalCount:(r==null?void 0:r.totalCount)||0}}function Pt({programId:e,page:t,perPage:r,term:a},{keepPreviousData:n}){const i=z(),d=J([e,"patients",t,r,a],()=>i.getPatients({programId:e,perPage:r,page:t,term:a}),{keepPreviousData:n}),{data:o}=d,l=ve(d,["data"]);return M(S({},l),{patients:(o==null?void 0:o.patients)||[],totalCount:(o==null?void 0:o.totalCount)||0})}function aa({programId:e,patientId:t}){const r=z(),{data:a}=J([e,t],async()=>(await r.getPatient({participantId:t,programId:e})).data);return{patient:a}}function na({programId:e,rangeEndDate:t,rangeStartDate:r}){const a=z(),{data:n}=J([e,"medications",r==null?void 0:r.valueOf(),t==null?void 0:t.valueOf()],async()=>{if(!(!r||!t))return a.getMedications({programId:e,startDate:r,endDate:t})});return{medications:n}}const sa=({page:e,rowsPerPage:t,totalCount:r,setPage:a,setRowsPerPage:n})=>{const i=f.exports.useCallback(o=>{a(1),n(o)},[a,n]);return s(ge.Footer,{children:h("div",{className:"flex flex-col px-4 py-2 bg-gray-50",children:[h("span",{className:"text-sm text-gray-700 flex-shrink-0 mb-2",children:["Showing"," ",s("span",{className:"font-medium",children:(e-1)*t+1})," to"," ",s("span",{className:"font-medium",children:Math.min(e*t,r)})," ","of ",s("span",{className:"font-medium",children:r})," results"]}),h("div",{className:"flex flex-row justify-items-stretch",children:[s(nr,{items:[{id:"5",label:"5 rows",value:5},{id:"10",label:"10 rows",value:10},{id:"25",label:"25 rows",value:25},{id:"50",label:"50 rows",value:50},{id:"100",label:"100 rows",value:100}],selected:`${t}`,onChange:({value:o})=>i(o)}),s("div",{className:"flex flex-1 justify-end",children:s(jt,{showActivePageOnly:!0,pagesCount:Math.ceil(r/t),currentPage:e,onPageChange:a})})]})]})})},ne=({programId:e,program:t,children:r,selectedParticipantId:a})=>{const n=`/programs/${e}`,i=De(),[o,l]=f.exports.useState(""),d=f.exports.useMemo(()=>[{label:"Patient enrolment",link:`${n}/enrolment`,Icon:wr},{label:"Reports",link:`${n}/reports`,Icon:xr},{label:"Questionnaires",link:`${n}/questionnaires`,Icon:yr},{label:"Team",link:`${n}/team`,Icon:br},{label:"Settings",link:`${n}/settings`,Icon:Er}],[n]),[u,c]=f.exports.useState(1),[m,g]=f.exports.useState(25),{patients:p,totalCount:v}=Pt({programId:e,perPage:m,term:o,page:u},{keepPreviousData:!0}),w=f.exports.useCallback(()=>({id:b})=>i.push(`/programs/${e}/participants/${b}`),[i,e]),x=f.exports.useMemo(()=>[{label:"Patient Name",RowCell:({firstName:b,lastName:y,severeSymptomsCount:T,id:N,email:O})=>h("div",{className:"relative group px-6 py-4 whitespace-nowrap flex-1 flex flex-col",children:[a===N&&s("div",{className:"absolute h-full w-1 bg-primary-500 left-0 top-0"}),s("div",{children:s(Fe,{text:`${b} ${y}`,term:o})}),s("div",{className:"text-gray-400 text-sm",children:s(Fe,{text:O,term:o})}),!!T&&s("div",{className:"absolute h-full right-0 top-0 flex items-center pr-4",children:s("div",{className:"bg-red-400 rounded-full px-2 py-1 text-sm flex items-center h-fit w-fit",children:h("div",{className:"flex whitespace-nowrap space-x-1",children:[s(Hr,{className:"w-4"}),s("span",{children:T}),s("span",{className:"hidden group-hover:block",children:"SEVERE SYMPTOMPS"})]})})})]})}],[o,a]),E=f.exports.useCallback(({id:b})=>b,[]),C=f.exports.useMemo(()=>[{Icon:Ot,href:"/organisaitons",label:"Organisations"},{Icon:_r,href:`/organisations/${t==null?void 0:t.organisation.organisationId}`,label:`${t==null?void 0:t.organisation.name} organisation`}],[t==null?void 0:t.organisation.name,t==null?void 0:t.organisation.organisationId]);return s(Me,{navigation:!0,title:h("div",{className:"flex flex-col justify-center items-center",children:[`${t==null?void 0:t.name} program`,s("div",{className:"text-sm text-gray-400",children:t==null?void 0:t.description})]}),sections:d,breadcrumbs:C,children:h("div",{className:"flex flex-row flex-1 h-full overflow-hidden",children:[s("div",{className:_("flex flex-col w-96 border-r","border-slate-30 shrink-0 border-secondary-200"),children:h("div",{className:"flex flex-col overflow-hidden h-full",children:[h("div",{className:_("h-16 justify-center items-center","flex text-secondary-900/40 flex-shrink-0"),children:[s(Nr,{className:"w-6 mr-2"}),"PARTICIPANTS"]}),s("div",{className:"pb-4 px-4",children:h("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:_("absolute inset-y-0 left-0 pl-3","flex items-center pointer-events-none"),children:s(he,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:o,onChange:({currentTarget:b})=>{l(b.value)},placeholder:"search for participant",className:_("focus:ring-primary-500","focus:border-primary-500 block w-full pl-10 pr-12","border-gray-300 rounded-md")})]})}),s("div",{className:"px-4 overflow-hidden flex h-full",children:s(je,{selectedRowId:a,onRowClick:w,headers:x,data:p,getRowId:E,page:u,onPageChange:c,rowsPerPage:m,onRowsPerPageChange:g,totalRows:v,showHeader:!1,footer:s(sa,{page:u,rowsPerPage:m,setPage:c,setRowsPerPage:g,totalCount:v})})})]})}),s("div",{className:"flex flex-col flex-1  w-full h-full overflow-hidden",children:r})]})})},oa=({children:e})=>s("div",{children:e}),ge=({children:e,roundedBottom:t=!0})=>s("div",{className:_("rounded-t-lg bg-white flex flex-1 flex-col","shadow border-slate-300 border overflow-hidden",{"rounded-b-lg":t}),children:e});ge.Footer=oa;const at=({label:e,active:t,onClick:r})=>s("button",{onClick:r,className:_("bg-white","z-10","relative inline-flex items-center","px-4 py-2 border text-sm font-medium",{"bg-primary-300":t}),children:e}),jt=({pagesCount:e,currentPage:t,onPageChange:r,showActivePageOnly:a})=>{const n=7,i=f.exports.useMemo(()=>{if(a)return s(at,{label:t});if(e<=n)return Array.from({length:e}).map((u,c)=>s(at,{label:c+1,active:e!==1&&t===c+1,onClick:()=>r(c+1)},c));const o=t-Math.floor(n/2),l=o<=1?1:o+7>=e?e-n+1:o,d=Array.from({length:n}).map((u,c)=>c+l);return d[0]=1,d[1]=d[1]!==2?"...":d[1],d[d.length-1]=e,d[d.length-2]=d[d.length-2]!==e-1?"...":d[d.length-2],d.map((u,c)=>s(at,{label:u,active:u===t,onClick:()=>{typeof u=="number"&&r(u)}},`${u}_${c}`))},[t,r,e,a]);return s("div",{children:h("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s("button",{disabled:t===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>r(t-1),children:s(Tt,{className:"h-5 w-5","aria-hidden":"true"})}),i,s("button",{disabled:t===e,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>r(t+1),children:s(Or,{className:"h-5 w-5","aria-hidden":"true"})})]})})},je=({headers:e,data:t,selectedRowId:r,page:a,rowsPerPage:n,totalRows:i,getRowId:o,onRowClick:l,RowAction:d,onPageChange:u,onRowsPerPageChange:c,footer:m,showHeader:g})=>{const p=Math.ceil(i/n),v=f.exports.useCallback(w=>{u(1),c(w)},[u,c]);return h(ge,{roundedBottom:!1,children:[s(Le,{onRowClick:l,headers:e,data:t,getRowId:o,selectedRowId:r,RowAction:d,showHeader:g}),m||s(ge.Footer,{children:h("div",{className:"flex-1 flex items-center justify-between flex-wrap px-4 py-2 bg-gray-50",children:[s("div",{className:"flex flex-1 flex-shrink-0",children:h("span",{className:"text-sm text-gray-700 flex-shrink-0",children:["Showing"," ",s("span",{className:"font-medium",children:(a-1)*n+1})," ","to"," ",s("span",{className:"font-medium",children:Math.min(a*n,i)})," ","of ",s("span",{className:"font-medium",children:i})," results"]})}),h("div",{className:"space-x-4 flex flex-shrink-0 flex-1 justify-end",children:[s(nr,{items:[{id:"5",label:"5 rows",value:5},{id:"10",label:"10 rows",value:10},{id:"25",label:"25 rows",value:25},{id:"50",label:"50 rows",value:50},{id:"100",label:"100 rows",value:100}],selected:`${n}`,onChange:({value:w})=>v(w)}),s(jt,{pagesCount:p,currentPage:a,onPageChange:u})]})]})})]})};var Ut=function(t){return t.reduce(function(r,a){var n=a[0],i=a[1];return r[n]=i,r},{})},Vt=typeof window!="undefined"&&window.document&&window.document.createElement?f.exports.useLayoutEffect:f.exports.useEffect,L="top",U="bottom",V="right",P="left",nt="auto",we=[L,U,V,P],se="start",xe="end",ia="clippingParents",Wt="viewport",ye="popper",la="reference",$t=we.reduce(function(e,t){return e.concat([t+"-"+se,t+"-"+xe])},[]),Bt=[].concat(we,[nt]).reduce(function(e,t){return e.concat([t,t+"-"+se,t+"-"+xe])},[]),ca="beforeRead",da="read",ua="afterRead",fa="beforeMain",pa="main",va="afterMain",ha="beforeWrite",ma="write",ga="afterWrite",wa=[ca,da,ua,fa,pa,va,ha,ma,ga];function F(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oe(e){var t=B(e).Element;return e instanceof t||e instanceof Element}function W(e){var t=B(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ft(e){if(typeof ShadowRoot=="undefined")return!1;var t=B(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xa(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var a=t.styles[r]||{},n=t.attributes[r]||{},i=t.elements[r];!W(i)||!F(i)||(Object.assign(i.style,a),Object.keys(n).forEach(function(o){var l=n[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function ya(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(a){var n=t.elements[a],i=t.attributes[a]||{},o=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:r[a]),l=o.reduce(function(d,u){return d[u]="",d},{});!W(n)||!F(n)||(Object.assign(n.style,l),Object.keys(i).forEach(function(d){n.removeAttribute(d)}))})}}var ba={name:"applyStyles",enabled:!0,phase:"write",fn:xa,effect:ya,requires:["computeStyles"]};function H(e){return e.split("-")[0]}var te=Math.max,Ue=Math.min,ie=Math.round;function le(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),a=1,n=1;if(W(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(a=ie(r.width)/o||1),i>0&&(n=ie(r.height)/i||1)}return{width:r.width/a,height:r.height/n,top:r.top/n,right:r.right/a,bottom:r.bottom/n,left:r.left/a,x:r.left/a,y:r.top/n}}function st(e){var t=le(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function Ht(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ft(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function G(e){return B(e).getComputedStyle(e)}function Ea(e){return["table","td","th"].indexOf(F(e))>=0}function Q(e){return((oe(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ve(e){return F(e)==="html"?e:e.assignedSlot||e.parentNode||(Ft(e)?e.host:null)||Q(e)}function Gt(e){return!W(e)||G(e).position==="fixed"?null:e.offsetParent}function _a(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&W(e)){var a=G(e);if(a.position==="fixed")return null}for(var n=Ve(e);W(n)&&["html","body"].indexOf(F(n))<0;){var i=G(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function be(e){for(var t=B(e),r=Gt(e);r&&Ea(r)&&G(r).position==="static";)r=Gt(r);return r&&(F(r)==="html"||F(r)==="body"&&G(r).position==="static")?t:r||_a(e)||t}function ot(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ee(e,t,r){return te(e,Ue(t,r))}function Na(e,t,r){var a=Ee(e,t,r);return a>r?r:a}function qt(){return{top:0,right:0,bottom:0,left:0}}function Jt(e){return Object.assign({},qt(),e)}function zt(e,t){return t.reduce(function(r,a){return r[a]=e,r},{})}var Oa=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Jt(typeof t!="number"?t:zt(t,we))};function Ta(e){var t,r=e.state,a=e.name,n=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,l=H(r.placement),d=ot(l),u=[P,V].indexOf(l)>=0,c=u?"height":"width";if(!(!i||!o)){var m=Oa(n.padding,r),g=st(i),p=d==="y"?L:P,v=d==="y"?U:V,w=r.rects.reference[c]+r.rects.reference[d]-o[d]-r.rects.popper[c],x=o[d]-r.rects.reference[d],E=be(i),C=E?d==="y"?E.clientHeight||0:E.clientWidth||0:0,b=w/2-x/2,y=m[p],T=C-g[c]-m[v],N=C/2-g[c]/2+b,O=Ee(y,N,T),R=d;r.modifiersData[a]=(t={},t[R]=O,t.centerOffset=O-N,t)}}function Ca(e){var t=e.state,r=e.options,a=r.element,n=a===void 0?"[data-popper-arrow]":a;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||!Ht(t.elements.popper,n)||(t.elements.arrow=n))}var Ra={name:"arrow",enabled:!0,phase:"main",fn:Ta,effect:Ca,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ce(e){return e.split("-")[1]}var Sa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ia(e){var t=e.x,r=e.y,a=window,n=a.devicePixelRatio||1;return{x:ie(t*n)/n||0,y:ie(r*n)/n||0}}function Qt(e){var t,r=e.popper,a=e.popperRect,n=e.placement,i=e.variation,o=e.offsets,l=e.position,d=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,m=e.isFixed,g=c===!0?Ia(o):typeof c=="function"?c(o):o,p=g.x,v=p===void 0?0:p,w=g.y,x=w===void 0?0:w,E=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),b=P,y=L,T=window;if(u){var N=be(r),O="clientHeight",R="clientWidth";if(N===B(r)&&(N=Q(r),G(N).position!=="static"&&l==="absolute"&&(O="scrollHeight",R="scrollWidth")),N=N,n===L||(n===P||n===V)&&i===xe){y=U;var k=m&&T.visualViewport?T.visualViewport.height:N[O];x-=k-a.height,x*=d?1:-1}if(n===P||(n===L||n===U)&&i===xe){b=V;var I=m&&T.visualViewport?T.visualViewport.width:N[R];v-=I-a.width,v*=d?1:-1}}var A=Object.assign({position:l},u&&Sa);if(d){var D;return Object.assign({},A,(D={},D[y]=C?"0":"",D[b]=E?"0":"",D.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",D))}return Object.assign({},A,(t={},t[y]=C?x+"px":"",t[b]=E?v+"px":"",t.transform="",t))}function Aa(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=a===void 0?!0:a,i=r.adaptive,o=i===void 0?!0:i,l=r.roundOffsets,d=l===void 0?!0:l,u={placement:H(t.placement),variation:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Qt(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qt(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ka={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Aa,data:{}},We={passive:!0};function Da(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,i=n===void 0?!0:n,o=a.resize,l=o===void 0?!0:o,d=B(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",r.update,We)}),l&&d.addEventListener("resize",r.update,We),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",r.update,We)}),l&&d.removeEventListener("resize",r.update,We)}}var Ma={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Da,data:{}},La={left:"right",right:"left",bottom:"top",top:"bottom"};function $e(e){return e.replace(/left|right|bottom|top/g,function(t){return La[t]})}var Pa={start:"end",end:"start"};function Yt(e){return e.replace(/start|end/g,function(t){return Pa[t]})}function it(e){var t=B(e),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function lt(e){return le(Q(e)).left+it(e).scrollLeft}function ja(e){var t=B(e),r=Q(e),a=t.visualViewport,n=r.clientWidth,i=r.clientHeight,o=0,l=0;return a&&(n=a.width,i=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=a.offsetLeft,l=a.offsetTop)),{width:n,height:i,x:o+lt(e),y:l}}function Ua(e){var t,r=Q(e),a=it(e),n=(t=e.ownerDocument)==null?void 0:t.body,i=te(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=te(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-a.scrollLeft+lt(e),d=-a.scrollTop;return G(n||r).direction==="rtl"&&(l+=te(r.clientWidth,n?n.clientWidth:0)-i),{width:i,height:o,x:l,y:d}}function ct(e){var t=G(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function Xt(e){return["html","body","#document"].indexOf(F(e))>=0?e.ownerDocument.body:W(e)&&ct(e)?e:Xt(Ve(e))}function _e(e,t){var r;t===void 0&&(t=[]);var a=Xt(e),n=a===((r=e.ownerDocument)==null?void 0:r.body),i=B(a),o=n?[i].concat(i.visualViewport||[],ct(a)?a:[]):a,l=t.concat(o);return n?l:l.concat(_e(Ve(o)))}function dt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Va(e){var t=le(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Kt(e,t){return t===Wt?dt(ja(e)):oe(t)?Va(t):dt(Ua(Q(e)))}function Wa(e){var t=_e(Ve(e)),r=["absolute","fixed"].indexOf(G(e).position)>=0,a=r&&W(e)?be(e):e;return oe(a)?t.filter(function(n){return oe(n)&&Ht(n,a)&&F(n)!=="body"&&(r?G(n).position!=="static":!0)}):[]}function $a(e,t,r){var a=t==="clippingParents"?Wa(e):[].concat(t),n=[].concat(a,[r]),i=n[0],o=n.reduce(function(l,d){var u=Kt(e,d);return l.top=te(u.top,l.top),l.right=Ue(u.right,l.right),l.bottom=Ue(u.bottom,l.bottom),l.left=te(u.left,l.left),l},Kt(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Zt(e){var t=e.reference,r=e.element,a=e.placement,n=a?H(a):null,i=a?ce(a):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,d;switch(n){case L:d={x:o,y:t.y-r.height};break;case U:d={x:o,y:t.y+t.height};break;case V:d={x:t.x+t.width,y:l};break;case P:d={x:t.x-r.width,y:l};break;default:d={x:t.x,y:t.y}}var u=n?ot(n):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case se:d[u]=d[u]-(t[c]/2-r[c]/2);break;case xe:d[u]=d[u]+(t[c]/2-r[c]/2);break}}return d}function Ne(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=a===void 0?e.placement:a,i=r.boundary,o=i===void 0?ia:i,l=r.rootBoundary,d=l===void 0?Wt:l,u=r.elementContext,c=u===void 0?ye:u,m=r.altBoundary,g=m===void 0?!1:m,p=r.padding,v=p===void 0?0:p,w=Jt(typeof v!="number"?v:zt(v,we)),x=c===ye?la:ye,E=e.rects.popper,C=e.elements[g?x:c],b=$a(oe(C)?C:C.contextElement||Q(e.elements.popper),o,d),y=le(e.elements.reference),T=Zt({reference:y,element:E,strategy:"absolute",placement:n}),N=dt(Object.assign({},E,T)),O=c===ye?N:y,R={top:b.top-O.top+w.top,bottom:O.bottom-b.bottom+w.bottom,left:b.left-O.left+w.left,right:O.right-b.right+w.right},k=e.modifiersData.offset;if(c===ye&&k){var I=k[n];Object.keys(R).forEach(function(A){var D=[V,U].indexOf(A)>=0?1:-1,Y=[L,U].indexOf(A)>=0?"y":"x";R[A]+=I[Y]*D})}return R}function Ba(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=r.boundary,i=r.rootBoundary,o=r.padding,l=r.flipVariations,d=r.allowedAutoPlacements,u=d===void 0?Bt:d,c=ce(a),m=c?l?$t:$t.filter(function(v){return ce(v)===c}):we,g=m.filter(function(v){return u.indexOf(v)>=0});g.length===0&&(g=m);var p=g.reduce(function(v,w){return v[w]=Ne(e,{placement:w,boundary:n,rootBoundary:i,padding:o})[H(w)],v},{});return Object.keys(p).sort(function(v,w){return p[v]-p[w]})}function Fa(e){if(H(e)===nt)return[];var t=$e(e);return[Yt(e),t,Yt(t)]}function Ha(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,i=n===void 0?!0:n,o=r.altAxis,l=o===void 0?!0:o,d=r.fallbackPlacements,u=r.padding,c=r.boundary,m=r.rootBoundary,g=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,w=r.allowedAutoPlacements,x=t.options.placement,E=H(x),C=E===x,b=d||(C||!v?[$e(x)]:Fa(x)),y=[x].concat(b).reduce(function(re,q){return re.concat(H(q)===nt?Ba(t,{placement:q,boundary:c,rootBoundary:m,padding:u,flipVariations:v,allowedAutoPlacements:w}):q)},[]),T=t.rects.reference,N=t.rects.popper,O=new Map,R=!0,k=y[0],I=0;I<y.length;I++){var A=y[I],D=H(A),Y=ce(A)===se,de=[L,U].indexOf(D)>=0,ue=de?"width":"height",j=Ne(t,{placement:A,boundary:c,rootBoundary:m,altBoundary:g,padding:u}),$=de?Y?V:P:Y?U:L;T[ue]>N[ue]&&($=$e($));var Te=$e($),X=[];if(i&&X.push(j[D]<=0),l&&X.push(j[$]<=0,j[Te]<=0),X.every(function(re){return re})){k=A,R=!1;break}O.set(A,X)}if(R)for(var Ce=v?3:1,He=function(q){var pe=y.find(function(Se){var K=O.get(Se);if(K)return K.slice(0,q).every(function(Ge){return Ge})});if(pe)return k=pe,"break"},fe=Ce;fe>0;fe--){var Re=He(fe);if(Re==="break")break}t.placement!==k&&(t.modifiersData[a]._skip=!0,t.placement=k,t.reset=!0)}}var Ga={name:"flip",enabled:!0,phase:"main",fn:Ha,requiresIfExists:["offset"],data:{_skip:!1}};function er(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function tr(e){return[L,V,U,P].some(function(t){return e[t]>=0})}function qa(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,o=Ne(t,{elementContext:"reference"}),l=Ne(t,{altBoundary:!0}),d=er(o,a),u=er(l,n,i),c=tr(d),m=tr(u);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":m})}var Ja={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qa};function za(e,t,r){var a=H(e),n=[P,L].indexOf(a)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],l=i[1];return o=o||0,l=(l||0)*n,[P,V].indexOf(a)>=0?{x:l,y:o}:{x:o,y:l}}function Qa(e){var t=e.state,r=e.options,a=e.name,n=r.offset,i=n===void 0?[0,0]:n,o=Bt.reduce(function(c,m){return c[m]=za(m,t.rects,i),c},{}),l=o[t.placement],d=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=u),t.modifiersData[a]=o}var Ya={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qa};function Xa(e){var t=e.state,r=e.name;t.modifiersData[r]=Zt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Ka={name:"popperOffsets",enabled:!0,phase:"read",fn:Xa,data:{}};function Za(e){return e==="x"?"y":"x"}function en(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,i=n===void 0?!0:n,o=r.altAxis,l=o===void 0?!1:o,d=r.boundary,u=r.rootBoundary,c=r.altBoundary,m=r.padding,g=r.tether,p=g===void 0?!0:g,v=r.tetherOffset,w=v===void 0?0:v,x=Ne(t,{boundary:d,rootBoundary:u,padding:m,altBoundary:c}),E=H(t.placement),C=ce(t.placement),b=!C,y=ot(E),T=Za(y),N=t.modifiersData.popperOffsets,O=t.rects.reference,R=t.rects.popper,k=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,I=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(!!N){if(i){var Y,de=y==="y"?L:P,ue=y==="y"?U:V,j=y==="y"?"height":"width",$=N[y],Te=$+x[de],X=$-x[ue],Ce=p?-R[j]/2:0,He=C===se?O[j]:R[j],fe=C===se?-R[j]:-O[j],Re=t.elements.arrow,re=p&&Re?st(Re):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qt(),pe=q[de],Se=q[ue],K=Ee(0,O[j],re[j]),Ge=b?O[j]/2-Ce-K-pe-I.mainAxis:He-K-pe-I.mainAxis,or=b?-O[j]/2+Ce+K+Se+I.mainAxis:fe+K+Se+I.mainAxis,qe=t.elements.arrow&&be(t.elements.arrow),ir=qe?y==="y"?qe.clientTop||0:qe.clientLeft||0:0,ft=(Y=A==null?void 0:A[y])!=null?Y:0,lr=$+Ge-ft-ir,cr=$+or-ft,pt=Ee(p?Ue(Te,lr):Te,$,p?te(X,cr):X);N[y]=pt,D[y]=pt-$}if(l){var vt,dr=y==="x"?L:P,ur=y==="x"?U:V,Z=N[T],Ie=T==="y"?"height":"width",ht=Z+x[dr],mt=Z-x[ur],Je=[L,P].indexOf(E)!==-1,gt=(vt=A==null?void 0:A[T])!=null?vt:0,wt=Je?ht:Z-O[Ie]-R[Ie]-gt+I.altAxis,xt=Je?Z+O[Ie]+R[Ie]-gt-I.altAxis:mt,yt=p&&Je?Na(wt,Z,xt):Ee(p?wt:ht,Z,p?xt:mt);N[T]=yt,D[T]=yt-Z}t.modifiersData[a]=D}}var tn={name:"preventOverflow",enabled:!0,phase:"main",fn:en,requiresIfExists:["offset"]};function rn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function an(e){return e===B(e)||!W(e)?it(e):rn(e)}function nn(e){var t=e.getBoundingClientRect(),r=ie(t.width)/e.offsetWidth||1,a=ie(t.height)/e.offsetHeight||1;return r!==1||a!==1}function sn(e,t,r){r===void 0&&(r=!1);var a=W(t),n=W(t)&&nn(t),i=Q(t),o=le(e,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(a||!a&&!r)&&((F(t)!=="body"||ct(i))&&(l=an(t)),W(t)?(d=le(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=lt(i))),{x:o.left+l.scrollLeft-d.x,y:o.top+l.scrollTop-d.y,width:o.width,height:o.height}}function on(e){var t=new Map,r=new Set,a=[];e.forEach(function(i){t.set(i.name,i)});function n(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var d=t.get(l);d&&n(d)}}),a.push(i)}return e.forEach(function(i){r.has(i.name)||n(i)}),a}function ln(e){var t=on(e);return wa.reduce(function(r,a){return r.concat(t.filter(function(n){return n.phase===a}))},[])}function cn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function dn(e){var t=e.reduce(function(r,a){var n=r[a.name];return r[a.name]=n?Object.assign({},n,a,{options:Object.assign({},n.options,a.options),data:Object.assign({},n.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var rr={placement:"bottom",modifiers:[],strategy:"absolute"};function ar(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function un(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,a=r===void 0?[]:r,n=t.defaultOptions,i=n===void 0?rr:n;return function(l,d,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},rr,i),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},m=[],g=!1,p={state:c,setOptions:function(E){var C=typeof E=="function"?E(c.options):E;w(),c.options=Object.assign({},i,c.options,C),c.scrollParents={reference:oe(l)?_e(l):l.contextElement?_e(l.contextElement):[],popper:_e(d)};var b=ln(dn([].concat(a,c.options.modifiers)));return c.orderedModifiers=b.filter(function(y){return y.enabled}),v(),p.update()},forceUpdate:function(){if(!g){var E=c.elements,C=E.reference,b=E.popper;if(!!ar(C,b)){c.rects={reference:sn(C,be(b),c.options.strategy==="fixed"),popper:st(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var T=c.orderedModifiers[y],N=T.fn,O=T.options,R=O===void 0?{}:O,k=T.name;typeof N=="function"&&(c=N({state:c,options:R,name:k,instance:p})||c)}}}},update:cn(function(){return new Promise(function(x){p.forceUpdate(),x(c)})}),destroy:function(){w(),g=!0}};if(!ar(l,d))return p;p.setOptions(u).then(function(x){!g&&u.onFirstUpdate&&u.onFirstUpdate(x)});function v(){c.orderedModifiers.forEach(function(x){var E=x.name,C=x.options,b=C===void 0?{}:C,y=x.effect;if(typeof y=="function"){var T=y({state:c,name:E,instance:p,options:b}),N=function(){};m.push(T||N)}})}function w(){m.forEach(function(x){return x()}),m=[]}return p}}var fn=[Ma,Ka,ka,ba,Ya,Ga,tn,Ra,Ja],pn=un({defaultModifiers:fn}),vn=typeof Element!="undefined",hn=typeof Map=="function",mn=typeof Set=="function",gn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Be(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,n;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!=0;)if(!Be(e[a],t[a]))return!1;return!0}var i;if(hn&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!Be(a.value[1],t.get(a.value[0])))return!1;return!0}if(mn&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(gn&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!=0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!=0;)if(!Object.prototype.hasOwnProperty.call(t,n[a]))return!1;if(vn&&e instanceof Element)return!1;for(a=r;a--!=0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!Be(e[n[a]],t[n[a]]))return!1;return!0}return e!==e&&t!==t}var wn=function(t,r){try{return Be(t,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},xn=[],yn=function(t,r,a){a===void 0&&(a={});var n=f.exports.useRef(null),i={onFirstUpdate:a.onFirstUpdate,placement:a.placement||"bottom",strategy:a.strategy||"absolute",modifiers:a.modifiers||xn},o=f.exports.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=o[0],d=o[1],u=f.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(p){var v=p.state,w=Object.keys(v.elements);d({styles:Ut(w.map(function(x){return[x,v.styles[x]||{}]})),attributes:Ut(w.map(function(x){return[x,v.attributes[x]]}))})},requires:["computeStyles"]}},[]),c=f.exports.useMemo(function(){var g={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return wn(n.current,g)?n.current||g:(n.current=g,g)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),m=f.exports.useRef();return Vt(function(){m.current&&m.current.setOptions(c)},[c]),Vt(function(){if(!(t==null||r==null)){var g=a.createPopper||pn,p=g(t,r,c);return m.current=p,function(){p.destroy(),m.current=null}}},[t,r,a.createPopper]),{state:m.current?m.current.state:null,styles:l.styles,attributes:l.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}};function bn(e,t){if(console.log(e,t),!e)return!1;let r=t;for(;r;){if(r===e)return!0;r=r.parentElement}return!1}const nr=({selected:e,items:t,onChange:r})=>{const[a,n]=f.exports.useState(null),[i,o]=f.exports.useState(null),l=f.exports.useRef(i);l.current=i;const{styles:d,attributes:u}=yn(a,i),c=f.exports.useMemo(()=>t.find(({id:w})=>w===e)||t[0],[t,e]),[m,g]=f.exports.useState(!1),p=f.exports.useCallback(()=>{const w=({target:x})=>{const E=bn(l.current,x);console.log(E),!E&&g(!1)};return document.addEventListener("mousedown",w),g(!0),()=>document.removeEventListener("mousedown",w)},[]),v=f.exports.useCallback(w=>{g(!1),r(w)},[r]);return h("div",{className:"relative",children:[s("div",{ref:n,className:"h-full",children:s(me,{onClick:p,children:h("div",{className:"flex-nowrap flex",children:[s("span",{className:"whitespace-nowrap",children:c.label})," ",s(Tr,{className:"ml-1 w-4"})]})})}),m&&s("div",M(S({ref:o,style:S({},d.popper)},u.popper),{children:s("div",{className:"whitespace-nowrap flex flex-col border rounded-md bg-white shadow-md m-2",children:t.map(w=>{const{id:x,label:E}=w;return s("button",{className:"p-4 hover:bg-gray-100",onClick:()=>v(w),children:s("span",{className:"whitespace-nowrap",children:E})},x)})})}))]})},Fe=({text:e,term:t})=>{if(!t)return s(ke,{children:e});const r=e.toLowerCase().indexOf(t.toLowerCase());if(r===-1)return s(ke,{children:e});const a=e.slice(0,r),n=e.slice(r,r+t.length),i=e.slice(r+t.length);return h(ke,{children:[a,n&&s("span",{className:"bg-yellow-200",children:n}),i]})},En=({range:[e,t],onChange:r})=>h("div",{className:"flex items-center",children:[h("div",{className:"relative",children:[s("div",{className:_("flex absolute inset-y-0 left-0","items-center pl-3 pointer-events-none"),children:s(Ct,{className:"w-5 text-gray-400"})}),s("input",{onChange:a=>r([new Date(a.currentTarget.value),t]),name:"start",type:"date",value:(e==null?void 0:e.toISOString().slice(0,10))||"",className:_("bg-gray-50 border border-gray-300","text-gray-900 sm:text-sm rounded-l-lg block w-full pl-10 p-2.5"),placeholder:"Select date start"})]}),h("div",{className:"relative",children:[s("div",{className:_("flex absolute inset-y-0 left-0","items-center pl-3 pointer-events-none"),children:s("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none",children:s(Ct,{className:"w-5 text-gray-400"})})}),s("input",{name:"end",type:"date",onChange:a=>r([e,new Date(a.currentTarget.value)]),value:(t==null?void 0:t.toISOString().slice(0,10))||"",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-r-lg block w-full pl-10 p-2.5",placeholder:"Select date end"})]})]});var _n="/assets/logo.0bd15c82.svg";const Nn=({form:e,onSubmit:t,label:r="Submit"})=>{const[a,n]=f.exports.useState(!1),i=Kr(),o=f.exports.useCallback(async()=>{n(!0),await t(e.values),i.current&&n(!1)},[e.values,i,t]);return s(me,{loading:a,disabled:a,label:r,onClick:o})},On=()=>{const{signIn:e}=Xe(),t=Xr(f.exports.useMemo(()=>({email:{type:"email",label:"Email",defaultValue:""},password:{type:"password",label:"Password",defaultValue:""}}),[]));return f.exports.useCallback(()=>{},[]),s(Me,{children:s("div",{className:"flex justify-center items-center h-full",children:h("div",{className:"w-96 space-y-4 flex flex-col items-center",children:[s("img",{src:_n,alt:"logo",className:"w-24 h-24"}),s("span",{children:"VinehealthPRO"}),s(Rt,{field:t.fields.email}),s(Rt,{field:t.fields.password}),s("div",{className:"pt-4 flex w-full",children:s(Nn,{label:"Sign in",form:t,onSubmit:e})})]})})})};class Tn{constructor(t){this.config=t}get apiEndpoint(){return this.config.apiEndpoint}}const Cn=()=>{const e=De(),[t,r]=f.exports.useState({rowsPerPage:25,page:1}),{page:a,rowsPerPage:n}=t,{organisations:i,totalCount:o}=ta({page:a,perPage:n}),l=f.exports.useMemo(()=>[{label:"Organisation name",stickyColumn:!0,RowCell:({name:c})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:c})},{label:"created",RowCell:({dateCreated:c})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:c.toLocaleDateString()})},{label:"projects",RowCell:({projectsCount:c})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:c})},{label:"users",RowCell:({usersCount:c})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:c})}],[]),d=f.exports.useCallback(({organisationId:c})=>e.push(`/organisations/${c}`),[e]);return s(Me,{navigation:!0,title:"Organisations",children:h("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[h("div",{className:"mb-4 flex flex-row space-x-4  rounded-t-lg",children:[s("div",{className:"flex flex-col flex-1 w-full",children:h("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(he,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:"",onChange:({currentTarget:c})=>{},placeholder:"",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:s(me,{label:"ADD ORGANISATION",intent:"primary",onClick:()=>{}})})]}),s(je,{page:a,data:i,rowsPerPage:n,totalRows:o,headers:l,onRowClick:d,getRowId:({organisationId:c})=>c,onPageChange:c=>r(M(S({},t),{page:c})),onRowsPerPageChange:c=>r(M(S({},t),{rowsPerPage:c}))})]})})},sr=({label:e})=>s("div",{children:s("div",{className:_("inline-flex py-1 px-2 text-sm rounded-full","h-fit m-1",{"bg-red-300":e==="EQ5D","bg-cyan-300":e==="FACTG","bg-violet-300":e==="QLQC30","bg-lime-300":e==="BN20"}),children:e})}),Rn=()=>{const{organisationId:e}=ee(),{organisation:t}=ea({organisationId:e}),{programs:r,totalCount:a}=ra({organisationId:e}),n=`/organisations/${e}`,i=De(),o=f.exports.useCallback(({projectId:p})=>i.push(`/programs/${p}`),[i]),[l,d]=f.exports.useState(1),[u,c]=f.exports.useState(25),m=f.exports.useCallback(({projectId:p})=>p,[]),g=f.exports.useMemo(()=>[{label:"Project name",stickyColumn:!0,defaultWidth:300,RowCell:({name:p,imageThumbnailUrl:v})=>h("div",{className:"flex space-x-4 items-center px-6 py-4 whitespace-nowrap overflow-hidden",children:[s("div",{className:"w-14 h-14 border bg-slate-50 rounded-md shrink-0",style:{backgroundImage:`url(${v})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),s("div",{className:"text-ellipsis overflow-hidden",children:p})]})},{label:"Questionnaire types",defaultWidth:300,RowCell:({availableQuestionnaireTypes:p})=>s("div",{className:"flex flex-wrap h-full items-center p-2",children:p.map(v=>s(sr,{label:v},v))})},{label:"consented patients",RowCell:({consentedPatientsCount:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p})},{label:"created",defaultWidth:150,RowCell:({dateCreated:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p.toLocaleDateString()})},{label:"updated",defaultWidth:150,RowCell:({dateUpdated:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p.toLocaleDateString()})},{label:"end date",defaultWidth:150,RowCell:({endDate:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap  overflow-hidden text-ellipsis flex items-center",children:p==null?void 0:p.toLocaleDateString()})},{label:"free text",defaultWidth:120,RowCell:({disableFreeText:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap flex items-center",children:p&&s(Cr,{className:"w-6 text-green-500"})})},{label:"users",RowCell:({usersCount:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap flex items-center",children:p})}],[]);return s(Me,{navigation:!0,title:`${t==null?void 0:t.name} organisation`,breadcrumbs:[{href:"/organisations",label:"Organisations",Icon:Ot}],sections:[{label:"Programs",link:`${n}/programs`},{label:"Settings",link:`${n}/settings`}],children:h("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[h("div",{className:"mb-4 flex flex-row space-x-4 rounded-t-lg",children:[s("div",{className:"flex flex-col flex-1 w-full",children:h("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(he,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:"",onChange:({currentTarget:p})=>{},placeholder:"",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:s(me,{label:"ADD PROGRAM",intent:"primary",onClick:()=>{}})})]}),s(je,{page:l,rowsPerPage:u,totalRows:a,headers:g,data:r,getRowId:m,onPageChange:d,onRowsPerPageChange:c,onRowClick:o})]})})},Sn=Array.from({length:999}).map((e,t)=>({id:t,label:`${t} row`})),In=()=>s("div",{className:"flex overflow-hidden flex-col h-full",children:s(Le,{data:Sn,getRowId:({id:e})=>`${e}`,headers:[{label:"",RowCell:({label:e})=>s("div",{children:e})}],showHeader:!1})}),An=()=>{const{programId:e,participantId:t}=ee(),{program:r}=ae({programId:e}),{patient:a}=aa({programId:e,patientId:t});return s(ne,{programId:e,program:r,selectedParticipantId:t,children:h("div",{className:"flex flex-col outline-hidden overflow-hidden w-ful h-full",children:[s("div",{className:"flex shrink-0",children:h("div",{className:"text-4xl flex flex-1 border-b border-gray-600",children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]})}),h("div",{className:"flex flex-row w-full overflow-hidden h-full",children:[s("div",{className:"flex w-60 flex-col border-r border-gray-600 h-full overflow-hidden",children:s(In,{})}),s("div",{className:"flex flex-1",children:"content"})]})]})})},kn=()=>{const{programId:e}=ee(),{program:t}=ae({programId:e});return s(ne,{programId:e,program:t,children:"questionnaires"})};function Dn({programId:e,rangeEndDate:t,rangeStartDate:r}){const a=z(),{data:n}=J([e,"symptoms",t==null?void 0:t.valueOf(),r==null?void 0:r.valueOf()],async()=>{if(!(!t||!r))return a.getSymptomps({programId:e,startDate:t,endDate:r})});return{symptoms:n||[]}}const Oe=({children:e,title:t})=>s("div",{children:h(ge,{children:[s("div",{className:_("border-b border-gray-200","text-lg","p-4","sticky"),children:t}),e]})});function Mn(e,t){const r=f.exports.useRef(t);r.current=t;const a=f.exports.useRef(!!e);f.exports.useEffect(()=>{a.current||!e||(a.current=!0,r.current())},[e])}const Ln=()=>{const{programId:e}=ee(),{program:t}=ae({programId:e}),[r,a]=f.exports.useState([t==null?void 0:t.startDate,(t==null?void 0:t.endDate)||new Date]);Mn(t,()=>a([t==null?void 0:t.startDate,(t==null?void 0:t.endDate)||new Date]));const{medications:n}=na({programId:e,rangeStartDate:r[0],rangeEndDate:r[1]}),{symptoms:i}=Dn({programId:e,rangeEndDate:r[0],rangeStartDate:r[1]});return s(ne,{programId:e,program:t,children:h("div",{className:"overflow-hidden p-4 flex flex-col",children:[s("div",{className:"border-b border-gray-300 pb-4",children:s(En,{range:r,onChange:a})}),h("div",{className:_("pt-2","grid gap-4 grid-cols-2 auto overflow-y-auto"),style:{gridTemplateColumns:"repeat(auto-fit, minmax(520px, 1fr))"},children:[s(Oe,{title:"General",children:h("div",{className:"flex flex-col p-4",children:["Start date: ",t==null?void 0:t.startDate.toLocaleDateString(),t==null?void 0:t.availableQuestionnaireTypes.map(o=>s(sr,{label:o},o)),t==null?void 0:t.consentedPatientsCount," Consented patients"]})}),s(Oe,{title:"Temperature trends",children:s("div",{className:"p-4",children:"There have been no new temperature logs in the selected time frame"})}),h(Oe,{title:"Medication adherence",children:[s(Le,{data:n||[],headers:[{label:"Name",RowCell:({medicationName:o})=>s("div",{className:"p-4",children:o})},{label:"Adherence",RowCell:({adherence:o})=>h("div",{className:"p-4",children:[o,"%"]})},{label:"Skipped doses",RowCell:({eventsSkipped:o})=>h("div",{className:"p-4",children:[o," doses skipped"]})}],getRowId:({medicationName:o})=>o}),s("div",{className:"text-sm p-4 text-gray-400",children:"* adherence to all scheduled medications by all patients"})]}),s(Oe,{title:"Most logged symptoms",children:s(Le,{data:i,headers:[{label:"symptom",RowCell:({logType:o})=>s("div",{className:"p-4",children:o.name})},{label:"Logs",RowCell:({count:o})=>s("div",{children:o})},{label:"Grade 0",RowCell:({grades:o})=>s("div",{children:o["0"].count})},{label:"Grade 1",RowCell:({grades:o})=>s("div",{children:o["1"].count})},{label:"Grade 2",RowCell:({grades:o})=>s("div",{children:o["2"].count})},{label:"Grade 3",RowCell:({grades:o})=>{var l;return s("div",{children:(l=o["3"])==null?void 0:l.count})}},{label:"Grade 4",RowCell:({grades:o})=>{var l;return s("div",{children:(l=o["4"])==null?void 0:l.count})}}],getRowId:o=>(console.log(o),o.logType.identifier)})}),s(Oe,{title:"Symptoms Trends"})]})]})})},Pn=()=>{const{programId:e}=ee(),{program:t}=ae({programId:e});return s(ne,{programId:e,program:t,children:"team"})};var ut;(function(e){e.CONSENT_GIVEN="Consented",e.AWAITING_CONSENT="Invite sent"})(ut||(ut={}));const jn=({consentGiven:e})=>s("div",{className:"text-sm mr-4 justify-end flex flex-1 flex-row items-center",children:h("div",{className:_("inline-flex","whitespace-nowrap","border rounded-md border-slate-300","h-fit"),children:[!e&&h("button",{onClick:()=>{},className:_("bg-gray-100 p-2 hover:bg-gray-200","rounded-l-md flex items-center"),children:[s(Sr,{className:"w-4 mr-1"}),"Resend invite"]}),s("button",{onClick:()=>{},className:_("p-2 bg-gray-100 hover:bg-gray-200",{"rounded-r-md":!0,"rounded-l-md":e,"border-l":!e}),children:s(_t,{className:"w-6"})})]})}),Un=()=>{const{programId:e}=ee(),t=De(),[r,a]=f.exports.useState(1),[n,i]=f.exports.useState(25),[o,l]=f.exports.useState(""),{program:d}=ae({programId:e}),{patients:u,totalCount:c}=Pt({programId:e,perPage:n,term:o,page:r},{keepPreviousData:!0}),m=f.exports.useMemo(()=>[{label:"Patient Name",stickyColumn:!0,RowCell:({firstName:v,lastName:w})=>s("div",{className:_("px-6 py-4 whitespace-nowrap","text-ellipsis overflow-hidden"),children:s(Fe,{text:`${v} ${w}`,term:o})})},{label:"status",defaultWidth:150,RowCell:({consentStatus:v})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:s("div",{className:_("inline-flex rounded-full py-1 px-3 text-sm",{"bg-green-300":v==="CONSENT_GIVEN","bg-yellow-300":v==="AWAITING_CONSENT"}),children:ut[v]})})},{label:"email",defaultWidth:300,RowCell:({email:v})=>s("div",{className:_("text-gray-500 px-6 py-4","whitespace-nowrap overflow-hidden text-ellipsis"),children:s(Fe,{text:v,term:o})})}],[o]),g=f.exports.useCallback(({id:v})=>t.push(`/programs/${e}/participants/${v}`),[t,e]),p=f.exports.useCallback(({id:v})=>v,[]);return s(ne,{programId:e,program:d,children:h("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[h("div",{className:"flex flex-row space-x-4 rounded-t-lg mb-4",children:[s("div",{className:"p-2 text-secondary-900",children:s(Nt,{to:`/organisations/${d==null?void 0:d.organisation.organisationId}`,children:s(Tt,{className:"w-6"})})}),s("div",{className:"flex flex-col flex-1 w-full",children:h("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(he,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:o,onChange:({currentTarget:v})=>l(v.value),placeholder:"Search for patient",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:h(me,{intent:"primary",onClick:()=>{},children:[s(Rr,{className:"w-6 mr-2"}),"INVITE NEW PATIENT"]})})]}),s(je,{onPageChange:a,page:r,rowsPerPage:n,totalRows:c,onRowsPerPageChange:i,onRowClick:g,headers:m,data:u,getRowId:p,RowAction:jn})]})})},Vn=()=>{const{programId:e}=ee(),{program:t}=ae({programId:e});return s(ne,{programId:e,program:t,children:"settings"})},Wn=new Tn({apiEndpoint:"https://staging.api.vinehealth.ai/api/v1"}),$n=e=>e.filter(Boolean).map(([r,a,n=!0])=>typeof a=="string"?s(Ir,{exact:n,path:r,to:a},r):s(Ar,{exact:n,path:r,component:a},r)),Bn=f.exports.memo(()=>{const{isSigned:e}=Xe(),t=$n([!e&&["/login",On],!e&&["/*","/login",!1],["/login","/"],["/","/organisations"],["/organisations/:organisationId","/organisations/:organisationId/programs"],["/organisations",Cn],["/organisations/:organisationId/programs",Rn],["/programs/:programId","/programs/:programId/enrolment"],["/programs/:programId/enrolment",Un],["/programs/:programId/reports",Ln],["/programs/:programId/questionnaires",kn],["/programs/:programId/team",Pn],["/programs/:programId/settings",Vn],["/programs/:programId/participants/:participantId",An],["*",()=>s("div",{children:"404"}),!1]]);return s(kr,{children:s(Dr,{children:t})})}),Fn=new Mr,Hn=f.exports.memo(()=>{const e=Zr(),t=Qr(Wn,e),r=Jr(t,e),{loading:a}=r;return a?s("div",{children:"loading"}):(console.log("loading",a),s(It.Provider,{value:r,children:s(Mt.Provider,{value:t,children:s(Lr,{client:Fn,children:s(Bn,{})})})}))});Pr.render(s(jr.StrictMode,{children:s(Hn,{})}),document.getElementById("root"));
