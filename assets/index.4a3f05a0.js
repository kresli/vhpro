var lr=Object.defineProperty,cr=Object.defineProperties;var dr=Object.getOwnPropertyDescriptors;var gt=Object.getOwnPropertySymbols;var ur=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable;var He=(e,t,r)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))ur.call(t,r)&&He(e,r,t[r]);if(gt)for(var r of gt(t))fr.call(t,r)&&He(e,r,t[r]);return e},F=(e,t)=>cr(e,dr(t));var qe=(e,t,r)=>(He(e,typeof t!="symbol"?t+"":t,r),r);import{j as m,a as s,S as pe,c as N,r as f,F as Ce,D as wt,o as pr,q as xt,L as yt,N as vr,u as Re,b as hr,C as mr,B as gr,U as wr,d as xr,e as D,f as bt,O as yr,g as br,h as Et,i as Er,k as _r,l as _t,m as ee,n as Nr,p as Or,P as Tr,R as Sr,s as Ir,t as Cr,v as Rr,Q as Ar,w as Dr,x as kr,y as Mr}from"./vendor.18eeb5ff.js";const Pr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};Pr();const Ae=({navigation:e,children:t,title:r,breadcrumbs:a,sections:n})=>m("div",{className:"bg-secondary-600/10 w-screen h-screen flex  overflow-hidden flex-col",children:[e&&s(Gr,{breadcrumbs:a,title:r,sections:n}),s("div",{className:"flex flex-col w-full h-full overflow-hidden",children:s("div",{className:"flex overflow-hidden flex-1 flex-col",children:t})})]}),Nt=({field:e})=>{const{setValue:t,value:r,config:a}=e,{label:n,type:o,placeholder:i}=a;return m("div",{className:"flex flex-col flex-1 w-full",children:[n&&s("span",{className:"block text-sm font-medium text-gray-700",children:n}),m("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(pe,{className:"text-gray-500 w-5"})}),s("input",{type:o,value:r,onChange:({currentTarget:l})=>t(l.value),placeholder:i,className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})]})},ve=({label:e,onClick:t,disabled:r=!1,loading:a=!1,intent:n="none",children:o})=>m("button",{disabled:r,onClick:t,className:N("disabled:bg-secondary-300 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 inline-flex items-center px-4 py-2 border","border-transparent rounded-md shadow-sm text-sm","h-full","font-medium","focus:outline-none focus:ring-2 focus:ring-offset-2","text-white",{"text-white bg-primary-600 hover:bg-primary-700":n==="primary","bg-white border border-gray-300 shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-100":n==="none"}),children:[a&&s("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:s("div",{className:"border-2 border-transparent  border-t-white rounded-full w-4 h-4 animate-spin"})}),e||o]}),Lr=({className:e})=>m("svg",{width:"39",height:"31",viewBox:"0 0 39 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[s("path",{d:"M13.139 17.8109L9.41569 9.84675C8.8792 8.69921 9.19767 7.3446 10.1937 6.53764L17.4618 0.648871C18.5296 -0.21629 20.0807 -0.216291 21.1485 0.648871L28.4166 6.53764C29.4126 7.3446 29.7311 8.69921 29.1946 9.84675L25.4712 17.8109C25.004 18.8103 23.9791 19.4519 22.8499 19.4519H15.7603C14.6312 19.4519 13.6063 18.8103 13.139 17.8109Z",fill:"#29bdae"}),s("path",{d:"M3.96056 28.6602L0.419433 21.0948C-0.118041 19.9465 0.200836 18.5906 1.19816 17.7835L8.10503 12.1941C9.17239 11.3303 10.7218 11.3303 11.7891 12.1941L18.696 17.7835C19.6933 18.5906 20.0122 19.9465 19.4747 21.0948L15.9336 28.6602C15.4661 29.659 14.4415 30.3001 13.3128 30.3001H6.58134C5.45266 30.3001 4.42807 29.659 3.96056 28.6602Z",fill:"#29bdae"}),s("path",{d:"M22.698 29.2987L19.1065 21.1107C18.5885 19.93 18.9629 18.558 20.0148 17.7822L26.9229 12.6869C27.9518 11.928 29.3746 11.928 30.4035 12.6869L37.3116 17.7822C38.3635 18.558 38.7378 19.93 38.2199 21.1107L34.6284 29.2987C34.1758 30.3305 33.1335 31 31.9798 31H25.3466C24.1929 31 23.1506 30.3305 22.698 29.2987Z",fill:"#29bdae"})]}),Ot=({isLastItem:e,isFirstItem:t,width:r,header:a,onResizeStart:n})=>{const{label:o,stickyColumn:i}=a;return m("div",{className:N("flex","relative","border-b border-gray-200",{"sticky left-0 z-30 bg-gray-50":i&&t,"flex-1":e}),style:{width:e?void 0:r,boxShadow:"inset 0 -2px 0 rgb(229 231 235)"},children:[s("div",{className:N("w-full","whitespace-nowrap","shrink-0","text-ellipsis","overflow-hidden","px-6 py-3 text-left text-xs font-medium","text-gray-500 uppercase tracking-wider","bg-gray-50"),children:o}),!e&&s(wt,{onMouseDown:n,className:N("w-4 absolute top-0","-right-2 h-full text-gray-300 cursor-col-resize","z-20")})]})},jr=({headers:e,columnsWidth:t,onColumnsWidthChange:r,RowAction:a})=>{const n=f.exports.useRef(t);n.current=t;const o=f.exports.useCallback(i=>{const l=u=>{u.stopImmediatePropagation(),u.preventDefault();const d=[...n.current];d[i]+=u.movementX,r(d)},c=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",c)};window.addEventListener("mouseup",c),window.addEventListener("mousemove",l)},[r]);return s("div",{className:"bg-gray-50 sticky top-0 z-10",children:m("div",{className:"flex flex-row",children:[e.map((i,l)=>s(Ot,{header:i,isLastItem:!a&&l===e.length-1,isFirstItem:l===0,width:t[l],onResizeStart:()=>o(l)},i.label)),a&&s(Ot,{header:{label:"",RowCell:()=>s(Ce,{})},isLastItem:!0,isFirstItem:!1,onResizeStart:()=>{}})]})})},Ur=({row:e,width:t,stickyColumn:r,RowCell:a,isEvenRow:n})=>s("div",{style:{width:t,minWidth:t,maxWidth:t,boxShadow:r?"inset -1px 0 0 rgb(229 231 235)":void 0},className:N("p-0","shrink-0","overflow-hidden","flex","flex-1","group-hover:bg-gray-100",{"sticky left-0 z20 bg-white":r,"bg-gray-50":n}),children:s(a,k({},e))}),$r=({row:e,selectedRowId:t,onRowClick:r,headers:a,columnsWidth:n,RowAction:o,rowId:i,isEvenRow:l})=>{const c=t===i;return m("div",{className:N("flex","group","cursor-pointer","hover:bg-black/5","text-gray-700",{"hover:bg-slate-300":c,"bg-slate-300":c,"text-gray-800":c}),onClick:()=>r==null?void 0:r(e),children:[a.map((u,d)=>{const{RowCell:g,stickyColumn:h}=u,x=!o&&d===a.length-1?void 0:n[d];return s(Ur,{width:x,stickyColumn:h,RowCell:g,row:e,isEvenRow:l},u.label)}),o&&s("div",{className:"group-hover:sticky right-0 z20 flex flex-1",children:s(o,k({},e))})]},i)},Tt=({headers:e,data:t,getRowId:r,selectedRowId:a,onRowClick:n,showHeader:o=!0,RowAction:i})=>{const[l,c]=f.exports.useState(()=>e.map(({defaultWidth:u})=>u!=null?u:200));return s("div",{className:"flex flex-col flex-1 overflow-hidden",children:s("div",{className:"shadow border-b border-gray-200 overflow-scroll flex flex-1",children:m("div",{className:"h-fit relative border-b border-black/10 flex-1",children:[o&&s(jr,{columnsWidth:l,headers:e,onColumnsWidthChange:c,RowAction:i}),s("div",{className:"divide-y divide-black/10 w-auto",children:t.map((u,d)=>{const g=r(u);return s($r,{rowId:g,row:u,selectedRowId:a,headers:e,columnsWidth:l,RowAction:i,onRowClick:n,isEvenRow:d%2==0},g)})})]})})})};function Vr(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))}function Wr(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}function Br(e){return f.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e),f.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))}var Je;(function(e){e.ADMIN="admin",e.VIEW_USER="view_user",e.EDIT_USER="edit_user",e.DELETE_USER="delete_user",e.VIEW_ROLES="view_roles",e.VIEW_ORGANISATIONS="view_organisations",e.VIEW_ORGANISATION="view_organisation",e.EDIT_ORGANISATION="edit_organisation",e.DELETE_ORGANISATION="delete_organisation",e.CREATE_ORGANISATION="create_organisation",e.EDIT_USER_ROLES="edit_user_roles",e.VIEW_ADMIN_ACTIONS="view_admin_actions",e.RESET_USER_PASSWORD="reset_user_password",e.CREATE_PROJECT="create_project",e.VIEW_PROJECTS="view_projects",e.VIEW_PROJECT="view_project",e.EDIT_PROJECT="edit_project",e.DELETE_PROJECT="delete_project",e.VIEW_ORGANISATION_USERS="view_organisation_users",e.CREATE_ORGANISATION_USERS="create_organisation_users",e.DELETE_ORGANISATION_USERS="delete_organisation_users",e.VIEW_PROJECT_USERS="view_project_users",e.INVITE_PROJECT_USERS="invite_project_users",e.VIEW_USER_DASHBOARD="view_user_dashboard",e.VIEW_USER_DASHBOARD_REPORTS="view_user_dashboard_reports",e.EDIT_PROJECT_USER="edit_project_user",e.VIEW_PROJECT_USER="view_project_user",e.DELETE_PROJECT_USER="delete_project_user",e.CREATE_QUESTIONNAIRE_SCHEDULE="create_questionnaire_schedule",e.VIEW_QUESTIONNAIRE_SCHEDULES="view_questionnaire_schedules",e.DELETE_QUESTIONNAIRE_SCHEDULE="delete_questionnaire_schedule",e.VIEW_QUESTIONNAIRE_SCHEDULE="view_questionnaire_schedule",e.EDIT_QUESTIONNAIRE_SCHEDULE="edit_questionnaire_schedule",e.VIEW_PROJECT_STAFF_MEMBER="view_project_staff_member",e.VIEW_PROJECT_STAFF_MEMBERS="view_project_staff_members",e.CREATE_PROJECT_STAFF_MEMBER="create_project_staff_member",e.EDIT_PROJECT_STAFF_MEMBER="edit_project_staff_member",e.DELETE_PROJECT_STAFF_MEMBER="delete_project_staff_member",e.EDIT_PROJECT_QUESTIONNAIRE_SETTINGS="edit_project_questionnaire_settings",e.EDIT_QUESTIONNAIRE_SETTINGS_OUTCOMES_MEASURES="edit_questionnaire_settings_outcomes_measures",e.VIEW_QUESTIONNAIRE_SETTINGS_OUTCOMES_MEASURES="view_questionnaire_settings_outcomes_measures",e.VIEW_PROJECT_USERS_ANONYMISED="view_project_users_anonymised",e.EDIT_PROJECT_USERS="edit_project_users",e.DELETE_PROJECT_USERS="delete_project_users",e.WITHDRAW_CONSENT_PROJECT_USERS="withdraw_consent_project_users",e.VIEW_PROJECT_OVERVIEW="view_project_overview",e.VIEW_PROJECT_DASHBOARD_FILTERS="view_project_dashboard_filters",e.VIEW_USER_DASHBOARD_FILTERS="view_user_dashboard_filters",e.VIEW_USER_DASHBOARD_WEIGHT="view_user_dashboard_weight",e.VIEW_USER_DASHBOARD_CALENDAR="view_user_dashboard_calendar",e.VIEW_USER_DASHBOARD_TEMPERATURE="view_user_dashboard_temperature",e.VIEW_USER_QUESTIONNAIRE_EVENT_RESULTS="view_user_questionnaire_event_results",e.VIEW_USER_SYMPTOM_LOGS="view_user_symptom_logs",e.VIEW_USER_SYMPTOM_RED_FLAGS="view_user_symptom_red_flags",e.VIEW_USER_SYMPTOM_VALIDATION="view_user_symptom_validation",e.VIEW_USER_SYMPTOM_TRENDS="view_user_symptom_trends",e.VIEW_USER_MED_ADHERENCE="view_user_med_adherence",e.VIEW_USER_ACTIVITIES="view_user_activities",e.DATA_EXPORT_IDENTIFIABLE="data_export_identifiable",e.DATA_EXPORT_ANONYMISED="data_export_anonymised",e.VIEW_USER_LISTING_ANONYMISED="view_user_listing_anonymised",e.VIEW_PROJECT_DATA_MED_ADHERENCE="view_project_data_med_adherence",e.VIEW_PROJECT_DATA_QUESTIONNAIRE_BREAKDOWN="view_project_data_questionnaire_breakdown",e.VIEW_PROJECT_DATA_QUESTIONNAIRE_LONGITUDINAL="view_project_data_questionnaire_longitudinal",e.VIEW_PROJECT_DATA_TEMPERATURE="view_project_data_temperature",e.VIEW_PROJECT_DATA_SYMPTOM_LOGS="view_project_data_symptom_logs",e.VIEW_PROJECT_DATA_WEIGHT_TRENDS="view_project_data_weight_trends",e.VIEW_PROJECT_DATA_ACTIVITY_TRENDS="view_project_data_activity_trends",e.VALIDATE_USER_LOG="validate_user_log",e.VIEW_PROJECT_USERS_SYMPTOM_COUNTS="view_project_users_symptom_counts",e.VIEW_PROJECT_ARTICLES="view_project_articles",e.EDIT_DISABLE_MEDS_APPOINTMENT_NOTES="edit_disable_meds_appointment_notes",e.VIEW_DISABLE_MEDS_APPOINTMENT_NOTES="view_disable_meds_appointment_notes",e.VIEW_PROJECT_CONSENT_MESSAGE="view_project_consent_message",e.EDIT_PROJECT_CONSENT_MESSAGE="edit_project_consent_message",e.VIEW_PATIENT_PARTICIPATION_DURATION="view_patient_participation_duration",e.EDIT_PATIENT_PARTICIPATION_DURATION="edit_patient_participation_duration",e.VIEW_QUESTIONNAIRE_TYPES="view_questionnaire_types",e.UPLOAD_PROJECT_IMAGE="upload_project_image"})(Je||(Je={}));function Fr(e,t){const r=f.exports.useRef(t);r.current=t;const a=1e3*60;f.exports.useEffect(()=>{if(!e)return;const{exp:n}=pr(e),o=n*1e3-a,i=new Date().getTime();if(o<i){r.current();return}const l=setTimeout(r.current,o-i);return()=>clearTimeout(l)},[e,a])}function Hr(e,[t,r]){const[a,n]=f.exports.useState(),o=f.exports.useMemo(()=>!!t.accessToken&&!a,[t.accessToken,a]);f.exports.useEffect(()=>{t.accessToken&&!a&&e.getUser().then(({user:d})=>n(d))},[e,t.accessToken,a]),Fr(t.accessToken,async()=>{const{accessToken:d}=await e.refetchAccessToken();r(F(k({},t),{accessToken:d}))});const i=f.exports.useCallback(async d=>{const{user:g,tokens:h}=await e.login(d);r(h),n(g)},[e,r]),l=f.exports.useCallback(async()=>{r({accessToken:null,refreshToken:null}),e.logout()},[e,r]),c=f.exports.useMemo(()=>!!a,[a]),u=f.exports.useMemo(()=>(a==null?void 0:a.permissions.includes(Je.ADMIN))||!1,[a==null?void 0:a.permissions]);return{signIn:i,signOut:l,user:a,isAdmin:u,loading:o,isSigned:c}}const St=f.exports.createContext(null),Ge=()=>f.exports.useContext(St),It=e=>F(k({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),diagnosisDate:new Date(e.diagnosisDate),dob:new Date(e.dob)}),ze=e=>F(k({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated)}),Ct=e=>F(k({},e),{dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),startDate:new Date(e.startDate),endDate:e.endDate?new Date(e.endDate):null,organisation:ze(e.organisation)}),Rt=e=>F(k({},e),{dateConsentGiven:new Date(e.dateConsentGiven),dateConsentRevoked:new Date(e.dateConsentRevoked),dateCreated:new Date(e.dateCreated),dateUpdated:new Date(e.dateUpdated),dob:e.dob?new Date(e.dob):null,questionnairesEarliestDate:new Date(e.questionnairesEarliestDate),questionnairesLatestDate:new Date(e.questionnairesLatestDate),reportsEarliestDate:new Date(e.reportsEarliestDate),reportsLatestDate:new Date(e.reportsLatestDate)});class De{constructor(t,r){qe(this,"apiEndpoint");this.accessToken=r,this.apiEndpoint=t.replace(/\/$/,"")}getUrl(t){const r=t[0]==="/"?t:`/${t}`;return`${this.apiEndpoint}${r}`}post(t,r,a){return De.post(this.getUrl(t),r,k({token:this.accessToken||""},a))}get(t,r){return De.get(this.getUrl(t),k({token:this.accessToken||""},r))}static async post(t,r,a){const n=new Headers({"Content-Type":"application/json"});return(a==null?void 0:a.token)&&n.set("Authorization",`Bearer ${a.token}`),fetch(t,{method:"POST",referrerPolicy:"no-referrer",headers:n,body:JSON.stringify(r||{})}).then(async o=>({data:await o.json(),headers:o.headers}))}static async get(t,r){const a=new Headers({"Content-Type":"application/json"});(r==null?void 0:r.token)&&a.set("Authorization",`Bearer ${r.token}`);const n=(r==null?void 0:r.params)?xt.stringify(r==null?void 0:r.params):"",o=n?`?${n}`:"";return fetch(`${t}${o}`,{method:"GET",referrerPolicy:"no-referrer",headers:a}).then(async i=>({data:await i.json(),headers:i.headers}))}}class qr{constructor(t,r){qe(this,"fetch");this.apiEndpoint=t,this.tokens=r,this.fetch=new De(this.apiEndpoint,this.tokens.accessToken)}get hasAccessToken(){return!!this.tokens.accessToken}async login(t){const{data:{accessToken:r,refreshToken:a,user:n}}=await this.fetch.post("/auth/login",t);return{tokens:{accessToken:r,refreshToken:a},user:It(n)}}async getUser(){const t=await this.fetch.get("/current");return{user:It(t.data)}}async getOrganisations({page:t=1,perPage:r=25,term:a=""}){const n="/admin/organisations",o=await this.fetch.get(n,{params:{_page:t,_perPage:r,term:a}}),i=o.data.map(ze),l=parseInt(o.headers.get("x-total-count")||"");return{organisations:i,totalCount:l}}async getOrganisation(t){const r=await this.fetch.get(`admin/organisations/${t}`);return{payload:r,data:ze(r.data)}}async getPrograms({page:t=1,perPage:r=25,term:a="",organisationId:n}){const o=await this.fetch.get("admin/projects",{params:{_page:t,_perPage:r,organisationId:n,term:a}}),i=parseInt(o.headers.get("x-total-count")||""),l=o.data.map(Ct);return{totalCount:i,programs:l}}async getProgram(t){const r=await this.fetch.get(`admin/projects/${t}`);return{payload:r,data:Ct(r.data)}}async refetchAccessToken(){const{refreshToken:t}=this.tokens;if(!t)return{accessToken:null};const{data:{accessToken:r}}=await this.fetch.post("/auth/refresh",{},{token:t});return{accessToken:r}}async getPatients({page:t=1,perPage:r=25,term:a="",consentedOnly:n=!1,programId:o}){const i=await this.fetch.get(`/admin/projects/${o}/users`,{params:{_page:t,_perPage:r,term:a,consentedOnly:n}});return{totalCount:parseInt(i.headers.get("x-total-count")||""),patients:i.data.map(Rt)}}async getPatient({participantId:t,programId:r}){const a=await this.fetch.get(`admin/projects/${r}/users/${t}`);return{payload:a,data:Rt(a.data)}}async getMedications({programId:t,startDate:r,endDate:a}){var o;const n=xt.stringify({startDate:r.toISOString(),endDate:a.toISOString()});return fetch(`https://staging.api.vinehealth.ai/api/v1/pro-dashboard/projects/${t}/reports/medication?${n}`,{method:"GET",headers:new Headers({Accept:"application/json",Authorization:`Bearer ${(o=this.tokens)==null?void 0:o.accessToken}`})}).then(i=>i.json())}async logout(){return this.fetch.post("auth/logout")}}const Jr=(e,[t])=>f.exports.useMemo(()=>new qr(e.apiEndpoint,{accessToken:t.accessToken,refreshToken:t.refreshToken}),[e.apiEndpoint,t.accessToken,t.refreshToken]),At=f.exports.createContext(null),G=()=>f.exports.useContext(At);function Gr({breadcrumbs:e,title:t,sections:r}){const a=Ge();return m("div",{className:N("h-44 flex-shrink-0 bg-gradient-to-r","to-gray-800 from-secondary-900 flex flex-row"),children:[m("div",{className:"flex flex-col p-4 justify-center items-center",children:[s(Lr,{className:"w-14 h-14 flex-shrink-0"}),s("span",{className:"text-primary-400 text-xl inline-flex",children:"VHPRO"})]}),m("div",{className:"flex flex-1 flex-col justify-center items-center",children:[s("div",{className:"flex whitespace-nowrap space-x-8 flex-1",children:e==null?void 0:e.map(({href:n,label:o,Icon:i})=>m(yt,{to:n,className:N("text-gray-400 flex flex-1 items-end","hover:text-white"),children:[s(i,{className:"w-6 mr-2"})," ",o]},o))}),s("div",{className:N("justify-center items-center flex flex-1 text-4xl","text-gray-300 whitespace-nowrap p-2"),children:t}),s("div",{className:"flex justify-center text-secondary-200/50 h-11",children:r==null?void 0:r.map(({label:n,link:o,Icon:i})=>m(vr,{to:o,activeClassName:"text-primary-500 font-normal border-primary-500",className:N("hover:text-gray-300","px-5","border-transparent","border-b-4","flex-inline","whitespace-nowrap","py-2","flex"),children:[i&&s(i,{className:"w-6 mr-2"}),s("span",{children:n})]},n))})]}),m("div",{className:"flex flex-row items-start p-4",children:[s("button",{onClick:()=>a.signOut(),children:" sign out"}),m("button",{type:"button",className:"bg-gray-800 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[s("span",{className:"sr-only",children:"View notifications"}),s(Vr,{className:"h-6 w-6","aria-hidden":"true"})]}),s(Br,{className:"w-6 h-6 text-gray-400 ml-3"})]})]})}const zr=({page:e,rowsPerPage:t,totalCount:r,setPage:a,setRowsPerPage:n})=>{const o=f.exports.useCallback(i=>{a(1),n(i)},[a,n]);return s(he.Footer,{children:m("div",{className:"flex flex-col px-4 py-2 bg-gray-50",children:[m("span",{className:"text-sm text-gray-700 flex-shrink-0 mb-2",children:["Showing"," ",s("span",{className:"font-medium",children:(e-1)*t+1})," to"," ",s("span",{className:"font-medium",children:Math.min(e*t,r)})," ","of ",s("span",{className:"font-medium",children:r})," results"]}),m("div",{className:"flex flex-row justify-items-stretch",children:[s(Zt,{items:[{id:"5",label:"5 rows",value:5},{id:"10",label:"10 rows",value:10},{id:"25",label:"25 rows",value:25},{id:"50",label:"50 rows",value:50},{id:"100",label:"100 rows",value:100}],selected:`${t}`,onChange:({value:i})=>o(i)}),s("div",{className:"flex flex-1 justify-end",children:s(Dt,{showActivePageOnly:!0,pagesCount:Math.ceil(r/t),currentPage:e,onPageChange:a})})]})]})})},ae=({programId:e,program:t,children:r,selectedParticipantId:a})=>{const n=`/programs/${e}`,o=Re(),[i,l]=f.exports.useState(""),c=f.exports.useMemo(()=>[{label:"Patient enrolment",link:`${n}/enrolment`,Icon:hr},{label:"Reports",link:`${n}/reports`,Icon:mr},{label:"Questionnaires",link:`${n}/questionnaires`,Icon:gr},{label:"Team",link:`${n}/team`,Icon:wr},{label:"Settings",link:`${n}/settings`,Icon:xr}],[n]),u=G(),[d,g]=f.exports.useState(1),[h,w]=f.exports.useState(25),{data:x}=D([e,"patients",d,h,i],()=>u.getPatients({programId:e,perPage:h,page:d,term:i}),{keepPreviousData:!0}),{patients:p,totalCount:v}=x||{patients:[],totalCount:0},b=f.exports.useCallback(()=>({id:E})=>o.push(`/programs/${e}/participants/${E}`),[o,e]),T=f.exports.useMemo(()=>[{label:"Patient Name",RowCell:({firstName:E,lastName:O,severeSymptomsCount:_,id:I,email:C})=>m("div",{className:"relative group px-6 py-4 whitespace-nowrap flex-1 flex flex-col",children:[a===I&&s("div",{className:"absolute h-full w-1 bg-primary-500 left-0 top-0"}),s("div",{children:s($e,{text:`${E} ${O}`,term:i})}),s("div",{className:"text-gray-400 text-sm",children:s($e,{text:C,term:i})}),!!_&&s("div",{className:"absolute h-full right-0 top-0 flex items-center pr-4",children:s("div",{className:"bg-red-400 rounded-full px-2 py-1 text-sm flex items-center h-fit w-fit",children:m("div",{className:"flex whitespace-nowrap space-x-1",children:[s(Wr,{className:"w-4"}),s("span",{children:_}),s("span",{className:"hidden group-hover:block",children:"SEVERE SYMPTOMPS"})]})})})]})}],[i,a]),S=f.exports.useCallback(({id:E})=>E,[]),y=f.exports.useMemo(()=>[{Icon:bt,href:"/organisaitons",label:"Organisations"},{Icon:yr,href:`/organisations/${t==null?void 0:t.organisation.organisationId}`,label:`${t==null?void 0:t.organisation.name} organisation`}],[t==null?void 0:t.organisation.name,t==null?void 0:t.organisation.organisationId]);return s(Ae,{navigation:!0,title:m("div",{className:"flex flex-col justify-center items-center",children:[`${t==null?void 0:t.name} program`,s("div",{className:"text-sm text-gray-400",children:t==null?void 0:t.description})]}),sections:c,breadcrumbs:y,children:m("div",{className:"flex flex-row flex-1 h-full overflow-hidden",children:[s("div",{className:N("flex flex-col w-96 border-r","border-slate-30 shrink-0 border-secondary-200"),children:m("div",{className:"flex flex-col overflow-hidden h-full",children:[m("div",{className:N("h-16 justify-center items-center","flex text-secondary-900/40 flex-shrink-0"),children:[s(br,{className:"w-6 mr-2"}),"PARTICIPANTS"]}),s("div",{className:"pb-4 px-4",children:m("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:N("absolute inset-y-0 left-0 pl-3","flex items-center pointer-events-none"),children:s(pe,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:i,onChange:({currentTarget:E})=>{l(E.value)},placeholder:"search for participant",className:N("focus:ring-primary-500","focus:border-primary-500 block w-full pl-10 pr-12","border-gray-300 rounded-md")})]})}),s("div",{className:"px-4 overflow-hidden flex h-full",children:s(ke,{selectedRowId:a,onRowClick:b,headers:T,data:p,getRowId:S,page:d,onPageChange:g,rowsPerPage:h,onRowsPerPageChange:w,totalRows:v,showHeader:!1,footer:s(zr,{page:d,rowsPerPage:h,setPage:g,setRowsPerPage:w,totalCount:v})})})]})}),s("div",{className:"flex flex-col flex-1  w-full h-full overflow-hidden",children:r})]})})},Qr=({children:e})=>s("div",{children:e}),he=({children:e,roundedBottom:t=!0})=>s("div",{className:N("rounded-t-lg bg-white flex flex-1 flex-col","shadow border-slate-300 border overflow-hidden",{"rounded-b-lg":t}),children:e});he.Footer=Qr;const Qe=({label:e,active:t,onClick:r})=>s("button",{onClick:r,className:N("bg-white","z-10","relative inline-flex items-center","px-4 py-2 border text-sm font-medium",{"bg-primary-300":t}),children:e}),Dt=({pagesCount:e,currentPage:t,onPageChange:r,showActivePageOnly:a})=>{const n=7,o=f.exports.useMemo(()=>{if(a)return s(Qe,{label:t});if(e<=n)return Array.from({length:e}).map((u,d)=>s(Qe,{label:d+1,active:e!==1&&t===d+1,onClick:()=>r(d+1)},d));const i=t-Math.floor(n/2),l=i<=1?1:i+7>=e?e-n+1:i,c=Array.from({length:n}).map((u,d)=>d+l);return c[0]=1,c[1]=c[1]!==2?"...":c[1],c[c.length-1]=e,c[c.length-2]=c[c.length-2]!==e-1?"...":c[c.length-2],c.map((u,d)=>s(Qe,{label:u,active:u===t,onClick:()=>{typeof u=="number"&&r(u)}},`${u}_${d}`))},[t,r,e,a]);return s("div",{children:m("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s("button",{disabled:t===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>r(t-1),children:s(Et,{className:"h-5 w-5","aria-hidden":"true"})}),o,s("button",{disabled:t===e,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",onClick:()=>r(t+1),children:s(Er,{className:"h-5 w-5","aria-hidden":"true"})})]})})},ke=({headers:e,data:t,selectedRowId:r,page:a,rowsPerPage:n,totalRows:o,getRowId:i,onRowClick:l,RowAction:c,onPageChange:u,onRowsPerPageChange:d,footer:g,showHeader:h})=>{const w=Math.ceil(o/n),x=f.exports.useCallback(p=>{u(1),d(p)},[u,d]);return m(he,{roundedBottom:!1,children:[s(Tt,{onRowClick:l,headers:e,data:t,getRowId:i,selectedRowId:r,RowAction:c,showHeader:h}),g||s(he.Footer,{children:m("div",{className:"flex-1 flex items-center justify-between flex-wrap px-4 py-2 bg-gray-50",children:[s("div",{className:"flex flex-1 flex-shrink-0",children:m("span",{className:"text-sm text-gray-700 flex-shrink-0",children:["Showing"," ",s("span",{className:"font-medium",children:(a-1)*n+1})," ","to"," ",s("span",{className:"font-medium",children:Math.min(a*n,o)})," ","of ",s("span",{className:"font-medium",children:o})," results"]})}),m("div",{className:"space-x-4 flex flex-shrink-0 flex-1 justify-end",children:[s(Zt,{items:[{id:"5",label:"5 rows",value:5},{id:"10",label:"10 rows",value:10},{id:"25",label:"25 rows",value:25},{id:"50",label:"50 rows",value:50},{id:"100",label:"100 rows",value:100}],selected:`${n}`,onChange:({value:p})=>x(p)}),s(Dt,{pagesCount:w,currentPage:a,onPageChange:u})]})]})})]})};var kt=function(t){return t.reduce(function(r,a){var n=a[0],o=a[1];return r[n]=o,r},{})},Mt=typeof window!="undefined"&&window.document&&window.document.createElement?f.exports.useLayoutEffect:f.exports.useEffect,P="top",U="bottom",$="right",L="left",Ye="auto",me=[P,U,$,L],ne="start",ge="end",Yr="clippingParents",Pt="viewport",we="popper",Xr="reference",Lt=me.reduce(function(e,t){return e.concat([t+"-"+ne,t+"-"+ge])},[]),jt=[].concat(me,[Ye]).reduce(function(e,t){return e.concat([t,t+"-"+ne,t+"-"+ge])},[]),Kr="beforeRead",Zr="read",ea="afterRead",ta="beforeMain",ra="main",aa="afterMain",na="beforeWrite",sa="write",oa="afterWrite",ia=[Kr,Zr,ea,ta,ra,aa,na,sa,oa];function H(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function se(e){var t=B(e).Element;return e instanceof t||e instanceof Element}function V(e){var t=B(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ut(e){if(typeof ShadowRoot=="undefined")return!1;var t=B(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function la(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var a=t.styles[r]||{},n=t.attributes[r]||{},o=t.elements[r];!V(o)||!H(o)||(Object.assign(o.style,a),Object.keys(n).forEach(function(i){var l=n[i];l===!1?o.removeAttribute(i):o.setAttribute(i,l===!0?"":l)}))})}function ca(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(a){var n=t.elements[a],o=t.attributes[a]||{},i=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:r[a]),l=i.reduce(function(c,u){return c[u]="",c},{});!V(n)||!H(n)||(Object.assign(n.style,l),Object.keys(o).forEach(function(c){n.removeAttribute(c)}))})}}var da={name:"applyStyles",enabled:!0,phase:"write",fn:la,effect:ca,requires:["computeStyles"]};function q(e){return e.split("-")[0]}var te=Math.max,Me=Math.min,oe=Math.round;function ie(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),a=1,n=1;if(V(e)&&t){var o=e.offsetHeight,i=e.offsetWidth;i>0&&(a=oe(r.width)/i||1),o>0&&(n=oe(r.height)/o||1)}return{width:r.width/a,height:r.height/n,top:r.top/n,right:r.right/a,bottom:r.bottom/n,left:r.left/a,x:r.left/a,y:r.top/n}}function Xe(e){var t=ie(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function $t(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ut(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function J(e){return B(e).getComputedStyle(e)}function ua(e){return["table","td","th"].indexOf(H(e))>=0}function Q(e){return((se(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pe(e){return H(e)==="html"?e:e.assignedSlot||e.parentNode||(Ut(e)?e.host:null)||Q(e)}function Vt(e){return!V(e)||J(e).position==="fixed"?null:e.offsetParent}function fa(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&V(e)){var a=J(e);if(a.position==="fixed")return null}for(var n=Pe(e);V(n)&&["html","body"].indexOf(H(n))<0;){var o=J(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function xe(e){for(var t=B(e),r=Vt(e);r&&ua(r)&&J(r).position==="static";)r=Vt(r);return r&&(H(r)==="html"||H(r)==="body"&&J(r).position==="static")?t:r||fa(e)||t}function Ke(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ye(e,t,r){return te(e,Me(t,r))}function pa(e,t,r){var a=ye(e,t,r);return a>r?r:a}function Wt(){return{top:0,right:0,bottom:0,left:0}}function Bt(e){return Object.assign({},Wt(),e)}function Ft(e,t){return t.reduce(function(r,a){return r[a]=e,r},{})}var va=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Bt(typeof t!="number"?t:Ft(t,me))};function ha(e){var t,r=e.state,a=e.name,n=e.options,o=r.elements.arrow,i=r.modifiersData.popperOffsets,l=q(r.placement),c=Ke(l),u=[L,$].indexOf(l)>=0,d=u?"height":"width";if(!(!o||!i)){var g=va(n.padding,r),h=Xe(o),w=c==="y"?P:L,x=c==="y"?U:$,p=r.rects.reference[d]+r.rects.reference[c]-i[c]-r.rects.popper[d],v=i[c]-r.rects.reference[c],b=xe(o),T=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,S=p/2-v/2,y=g[w],E=T-h[d]-g[x],O=T/2-h[d]/2+S,_=ye(y,O,E),I=c;r.modifiersData[a]=(t={},t[I]=_,t.centerOffset=_-O,t)}}function ma(e){var t=e.state,r=e.options,a=r.element,n=a===void 0?"[data-popper-arrow]":a;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||!$t(t.elements.popper,n)||(t.elements.arrow=n))}var ga={name:"arrow",enabled:!0,phase:"main",fn:ha,effect:ma,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function le(e){return e.split("-")[1]}var wa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xa(e){var t=e.x,r=e.y,a=window,n=a.devicePixelRatio||1;return{x:oe(t*n)/n||0,y:oe(r*n)/n||0}}function Ht(e){var t,r=e.popper,a=e.popperRect,n=e.placement,o=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,g=e.isFixed,h=d===!0?xa(i):typeof d=="function"?d(i):i,w=h.x,x=w===void 0?0:w,p=h.y,v=p===void 0?0:p,b=i.hasOwnProperty("x"),T=i.hasOwnProperty("y"),S=L,y=P,E=window;if(u){var O=xe(r),_="clientHeight",I="clientWidth";if(O===B(r)&&(O=Q(r),J(O).position!=="static"&&l==="absolute"&&(_="scrollHeight",I="scrollWidth")),O=O,n===P||(n===L||n===$)&&o===ge){y=U;var C=g&&E.visualViewport?E.visualViewport.height:O[_];v-=C-a.height,v*=c?1:-1}if(n===L||(n===P||n===U)&&o===ge){S=$;var R=g&&E.visualViewport?E.visualViewport.width:O[I];x-=R-a.width,x*=c?1:-1}}var A=Object.assign({position:l},u&&wa);if(c){var M;return Object.assign({},A,(M={},M[y]=T?"0":"",M[S]=b?"0":"",M.transform=(E.devicePixelRatio||1)<=1?"translate("+x+"px, "+v+"px)":"translate3d("+x+"px, "+v+"px, 0)",M))}return Object.assign({},A,(t={},t[y]=T?v+"px":"",t[S]=b?x+"px":"",t.transform="",t))}function ya(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=a===void 0?!0:a,o=r.adaptive,i=o===void 0?!0:o,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:q(t.placement),variation:le(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ht(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ht(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ba={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ya,data:{}},Le={passive:!0};function Ea(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,o=n===void 0?!0:n,i=a.resize,l=i===void 0?!0:i,c=B(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",r.update,Le)}),l&&c.addEventListener("resize",r.update,Le),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Le)}),l&&c.removeEventListener("resize",r.update,Le)}}var _a={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ea,data:{}},Na={left:"right",right:"left",bottom:"top",top:"bottom"};function je(e){return e.replace(/left|right|bottom|top/g,function(t){return Na[t]})}var Oa={start:"end",end:"start"};function qt(e){return e.replace(/start|end/g,function(t){return Oa[t]})}function Ze(e){var t=B(e),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function et(e){return ie(Q(e)).left+Ze(e).scrollLeft}function Ta(e){var t=B(e),r=Q(e),a=t.visualViewport,n=r.clientWidth,o=r.clientHeight,i=0,l=0;return a&&(n=a.width,o=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=a.offsetLeft,l=a.offsetTop)),{width:n,height:o,x:i+et(e),y:l}}function Sa(e){var t,r=Q(e),a=Ze(e),n=(t=e.ownerDocument)==null?void 0:t.body,o=te(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),i=te(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-a.scrollLeft+et(e),c=-a.scrollTop;return J(n||r).direction==="rtl"&&(l+=te(r.clientWidth,n?n.clientWidth:0)-o),{width:o,height:i,x:l,y:c}}function tt(e){var t=J(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function Jt(e){return["html","body","#document"].indexOf(H(e))>=0?e.ownerDocument.body:V(e)&&tt(e)?e:Jt(Pe(e))}function be(e,t){var r;t===void 0&&(t=[]);var a=Jt(e),n=a===((r=e.ownerDocument)==null?void 0:r.body),o=B(a),i=n?[o].concat(o.visualViewport||[],tt(a)?a:[]):a,l=t.concat(i);return n?l:l.concat(be(Pe(i)))}function rt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ia(e){var t=ie(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Gt(e,t){return t===Pt?rt(Ta(e)):se(t)?Ia(t):rt(Sa(Q(e)))}function Ca(e){var t=be(Pe(e)),r=["absolute","fixed"].indexOf(J(e).position)>=0,a=r&&V(e)?xe(e):e;return se(a)?t.filter(function(n){return se(n)&&$t(n,a)&&H(n)!=="body"&&(r?J(n).position!=="static":!0)}):[]}function Ra(e,t,r){var a=t==="clippingParents"?Ca(e):[].concat(t),n=[].concat(a,[r]),o=n[0],i=n.reduce(function(l,c){var u=Gt(e,c);return l.top=te(u.top,l.top),l.right=Me(u.right,l.right),l.bottom=Me(u.bottom,l.bottom),l.left=te(u.left,l.left),l},Gt(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function zt(e){var t=e.reference,r=e.element,a=e.placement,n=a?q(a):null,o=a?le(a):null,i=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(n){case P:c={x:i,y:t.y-r.height};break;case U:c={x:i,y:t.y+t.height};break;case $:c={x:t.x+t.width,y:l};break;case L:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=n?Ke(n):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case ne:c[u]=c[u]-(t[d]/2-r[d]/2);break;case ge:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function Ee(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=a===void 0?e.placement:a,o=r.boundary,i=o===void 0?Yr:o,l=r.rootBoundary,c=l===void 0?Pt:l,u=r.elementContext,d=u===void 0?we:u,g=r.altBoundary,h=g===void 0?!1:g,w=r.padding,x=w===void 0?0:w,p=Bt(typeof x!="number"?x:Ft(x,me)),v=d===we?Xr:we,b=e.rects.popper,T=e.elements[h?v:d],S=Ra(se(T)?T:T.contextElement||Q(e.elements.popper),i,c),y=ie(e.elements.reference),E=zt({reference:y,element:b,strategy:"absolute",placement:n}),O=rt(Object.assign({},b,E)),_=d===we?O:y,I={top:S.top-_.top+p.top,bottom:_.bottom-S.bottom+p.bottom,left:S.left-_.left+p.left,right:_.right-S.right+p.right},C=e.modifiersData.offset;if(d===we&&C){var R=C[n];Object.keys(I).forEach(function(A){var M=[$,U].indexOf(A)>=0?1:-1,Y=[P,U].indexOf(A)>=0?"y":"x";I[A]+=R[Y]*M})}return I}function Aa(e,t){t===void 0&&(t={});var r=t,a=r.placement,n=r.boundary,o=r.rootBoundary,i=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?jt:c,d=le(a),g=d?l?Lt:Lt.filter(function(x){return le(x)===d}):me,h=g.filter(function(x){return u.indexOf(x)>=0});h.length===0&&(h=g);var w=h.reduce(function(x,p){return x[p]=Ee(e,{placement:p,boundary:n,rootBoundary:o,padding:i})[q(p)],x},{});return Object.keys(w).sort(function(x,p){return w[x]-w[p]})}function Da(e){if(q(e)===Ye)return[];var t=je(e);return[qt(e),t,qt(t)]}function ka(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,o=n===void 0?!0:n,i=r.altAxis,l=i===void 0?!0:i,c=r.fallbackPlacements,u=r.padding,d=r.boundary,g=r.rootBoundary,h=r.altBoundary,w=r.flipVariations,x=w===void 0?!0:w,p=r.allowedAutoPlacements,v=t.options.placement,b=q(v),T=b===v,S=c||(T||!x?[je(v)]:Da(v)),y=[v].concat(S).reduce(function(re,z){return re.concat(q(z)===Ye?Aa(t,{placement:z,boundary:d,rootBoundary:g,padding:u,flipVariations:x,allowedAutoPlacements:p}):z)},[]),E=t.rects.reference,O=t.rects.popper,_=new Map,I=!0,C=y[0],R=0;R<y.length;R++){var A=y[R],M=q(A),Y=le(A)===ne,ce=[P,U].indexOf(M)>=0,de=ce?"width":"height",j=Ee(t,{placement:A,boundary:d,rootBoundary:g,altBoundary:h,padding:u}),W=ce?Y?$:L:Y?U:P;E[de]>O[de]&&(W=je(W));var Ne=je(W),X=[];if(o&&X.push(j[M]<=0),l&&X.push(j[W]<=0,j[Ne]<=0),X.every(function(re){return re})){C=A,I=!1;break}_.set(A,X)}if(I)for(var Oe=x?3:1,Ve=function(z){var fe=y.find(function(Se){var K=_.get(Se);if(K)return K.slice(0,z).every(function(We){return We})});if(fe)return C=fe,"break"},ue=Oe;ue>0;ue--){var Te=Ve(ue);if(Te==="break")break}t.placement!==C&&(t.modifiersData[a]._skip=!0,t.placement=C,t.reset=!0)}}var Ma={name:"flip",enabled:!0,phase:"main",fn:ka,requiresIfExists:["offset"],data:{_skip:!1}};function Qt(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yt(e){return[P,$,U,L].some(function(t){return e[t]>=0})}function Pa(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,i=Ee(t,{elementContext:"reference"}),l=Ee(t,{altBoundary:!0}),c=Qt(i,a),u=Qt(l,n,o),d=Yt(c),g=Yt(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":g})}var La={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pa};function ja(e,t,r){var a=q(e),n=[L,P].indexOf(a)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=o[0],l=o[1];return i=i||0,l=(l||0)*n,[L,$].indexOf(a)>=0?{x:l,y:i}:{x:i,y:l}}function Ua(e){var t=e.state,r=e.options,a=e.name,n=r.offset,o=n===void 0?[0,0]:n,i=jt.reduce(function(d,g){return d[g]=ja(g,t.rects,o),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[a]=i}var $a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ua};function Va(e){var t=e.state,r=e.name;t.modifiersData[r]=zt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Wa={name:"popperOffsets",enabled:!0,phase:"read",fn:Va,data:{}};function Ba(e){return e==="x"?"y":"x"}function Fa(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,o=n===void 0?!0:n,i=r.altAxis,l=i===void 0?!1:i,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,g=r.padding,h=r.tether,w=h===void 0?!0:h,x=r.tetherOffset,p=x===void 0?0:x,v=Ee(t,{boundary:c,rootBoundary:u,padding:g,altBoundary:d}),b=q(t.placement),T=le(t.placement),S=!T,y=Ke(b),E=Ba(y),O=t.modifiersData.popperOffsets,_=t.rects.reference,I=t.rects.popper,C=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,R=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(!!O){if(o){var Y,ce=y==="y"?P:L,de=y==="y"?U:$,j=y==="y"?"height":"width",W=O[y],Ne=W+v[ce],X=W-v[de],Oe=w?-I[j]/2:0,Ve=T===ne?_[j]:I[j],ue=T===ne?-I[j]:-_[j],Te=t.elements.arrow,re=w&&Te?Xe(Te):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Wt(),fe=z[ce],Se=z[de],K=ye(0,_[j],re[j]),We=S?_[j]/2-Oe-K-fe-R.mainAxis:Ve-K-fe-R.mainAxis,rr=S?-_[j]/2+Oe+K+Se+R.mainAxis:ue+K+Se+R.mainAxis,Be=t.elements.arrow&&xe(t.elements.arrow),ar=Be?y==="y"?Be.clientTop||0:Be.clientLeft||0:0,lt=(Y=A==null?void 0:A[y])!=null?Y:0,nr=W+We-lt-ar,sr=W+rr-lt,ct=ye(w?Me(Ne,nr):Ne,W,w?te(X,sr):X);O[y]=ct,M[y]=ct-W}if(l){var dt,or=y==="x"?P:L,ir=y==="x"?U:$,Z=O[E],Ie=E==="y"?"height":"width",ut=Z+v[or],ft=Z-v[ir],Fe=[P,L].indexOf(b)!==-1,pt=(dt=A==null?void 0:A[E])!=null?dt:0,vt=Fe?ut:Z-_[Ie]-I[Ie]-pt+R.altAxis,ht=Fe?Z+_[Ie]+I[Ie]-pt-R.altAxis:ft,mt=w&&Fe?pa(vt,Z,ht):ye(w?vt:ut,Z,w?ht:ft);O[E]=mt,M[E]=mt-Z}t.modifiersData[a]=M}}var Ha={name:"preventOverflow",enabled:!0,phase:"main",fn:Fa,requiresIfExists:["offset"]};function qa(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ja(e){return e===B(e)||!V(e)?Ze(e):qa(e)}function Ga(e){var t=e.getBoundingClientRect(),r=oe(t.width)/e.offsetWidth||1,a=oe(t.height)/e.offsetHeight||1;return r!==1||a!==1}function za(e,t,r){r===void 0&&(r=!1);var a=V(t),n=V(t)&&Ga(t),o=Q(t),i=ie(e,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!r)&&((H(t)!=="body"||tt(o))&&(l=Ja(t)),V(t)?(c=ie(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=et(o))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function Qa(e){var t=new Map,r=new Set,a=[];e.forEach(function(o){t.set(o.name,o)});function n(o){r.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&n(c)}}),a.push(o)}return e.forEach(function(o){r.has(o.name)||n(o)}),a}function Ya(e){var t=Qa(e);return ia.reduce(function(r,a){return r.concat(t.filter(function(n){return n.phase===a}))},[])}function Xa(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Ka(e){var t=e.reduce(function(r,a){var n=r[a.name];return r[a.name]=n?Object.assign({},n,a,{options:Object.assign({},n.options,a.options),data:Object.assign({},n.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var Xt={placement:"bottom",modifiers:[],strategy:"absolute"};function Kt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Za(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,a=r===void 0?[]:r,n=t.defaultOptions,o=n===void 0?Xt:n;return function(l,c,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xt,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},g=[],h=!1,w={state:d,setOptions:function(b){var T=typeof b=="function"?b(d.options):b;p(),d.options=Object.assign({},o,d.options,T),d.scrollParents={reference:se(l)?be(l):l.contextElement?be(l.contextElement):[],popper:be(c)};var S=Ya(Ka([].concat(a,d.options.modifiers)));return d.orderedModifiers=S.filter(function(y){return y.enabled}),x(),w.update()},forceUpdate:function(){if(!h){var b=d.elements,T=b.reference,S=b.popper;if(!!Kt(T,S)){d.rects={reference:za(T,xe(S),d.options.strategy==="fixed"),popper:Xe(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var E=d.orderedModifiers[y],O=E.fn,_=E.options,I=_===void 0?{}:_,C=E.name;typeof O=="function"&&(d=O({state:d,options:I,name:C,instance:w})||d)}}}},update:Xa(function(){return new Promise(function(v){w.forceUpdate(),v(d)})}),destroy:function(){p(),h=!0}};if(!Kt(l,c))return w;w.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function x(){d.orderedModifiers.forEach(function(v){var b=v.name,T=v.options,S=T===void 0?{}:T,y=v.effect;if(typeof y=="function"){var E=y({state:d,name:b,instance:w,options:S}),O=function(){};g.push(E||O)}})}function p(){g.forEach(function(v){return v()}),g=[]}return w}}var en=[_a,Wa,ba,da,$a,Ma,Ha,ga,La],tn=Za({defaultModifiers:en}),rn=typeof Element!="undefined",an=typeof Map=="function",nn=typeof Set=="function",sn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,n;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!=0;)if(!Ue(e[a],t[a]))return!1;return!0}var o;if(an&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;for(o=e.entries();!(a=o.next()).done;)if(!Ue(a.value[1],t.get(a.value[0])))return!1;return!0}if(nn&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(a=o.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(sn&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!=0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!=0;)if(!Object.prototype.hasOwnProperty.call(t,n[a]))return!1;if(rn&&e instanceof Element)return!1;for(a=r;a--!=0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!Ue(e[n[a]],t[n[a]]))return!1;return!0}return e!==e&&t!==t}var on=function(t,r){try{return Ue(t,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},ln=[],cn=function(t,r,a){a===void 0&&(a={});var n=f.exports.useRef(null),o={onFirstUpdate:a.onFirstUpdate,placement:a.placement||"bottom",strategy:a.strategy||"absolute",modifiers:a.modifiers||ln},i=f.exports.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=i[0],c=i[1],u=f.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var x=w.state,p=Object.keys(x.elements);c({styles:kt(p.map(function(v){return[v,x.styles[v]||{}]})),attributes:kt(p.map(function(v){return[v,x.attributes[v]]}))})},requires:["computeStyles"]}},[]),d=f.exports.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return on(n.current,h)?n.current||h:(n.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),g=f.exports.useRef();return Mt(function(){g.current&&g.current.setOptions(d)},[d]),Mt(function(){if(!(t==null||r==null)){var h=a.createPopper||tn,w=h(t,r,d);return g.current=w,function(){w.destroy(),g.current=null}}},[t,r,a.createPopper]),{state:g.current?g.current.state:null,styles:l.styles,attributes:l.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}};function dn(e,t){if(console.log(e,t),!e)return!1;let r=t;for(;r;){if(r===e)return!0;r=r.parentElement}return!1}const Zt=({selected:e,items:t,onChange:r})=>{const[a,n]=f.exports.useState(null),[o,i]=f.exports.useState(null),l=f.exports.useRef(o);l.current=o;const{styles:c,attributes:u}=cn(a,o),d=f.exports.useMemo(()=>t.find(({id:p})=>p===e)||t[0],[t,e]),[g,h]=f.exports.useState(!1),w=f.exports.useCallback(()=>{const p=({target:v})=>{const b=dn(l.current,v);console.log(b),!b&&h(!1)};return document.addEventListener("mousedown",p),h(!0),()=>document.removeEventListener("mousedown",p)},[]),x=f.exports.useCallback(p=>{h(!1),r(p)},[r]);return m("div",{className:"relative",children:[s("div",{ref:n,className:"h-full",children:s(ve,{onClick:w,children:m("div",{className:"flex-nowrap flex",children:[s("span",{className:"whitespace-nowrap",children:d.label})," ",s(_r,{className:"ml-1 w-4"})]})})}),g&&s("div",F(k({ref:i,style:k({},c.popper)},u.popper),{children:s("div",{className:"whitespace-nowrap flex flex-col border rounded-md bg-white shadow-md m-2",children:t.map(p=>{const{id:v,label:b}=p;return s("button",{className:"p-4 hover:bg-gray-100",onClick:()=>x(p),children:s("span",{className:"whitespace-nowrap",children:b})},v)})})}))]})},$e=({text:e,term:t})=>{if(!t)return s(Ce,{children:e});const r=e.toLowerCase().indexOf(t.toLowerCase());if(r===-1)return s(Ce,{children:e});const a=e.slice(0,r),n=e.slice(r,r+t.length),o=e.slice(r+t.length);return m(Ce,{children:[a,n&&s("span",{className:"bg-yellow-200",children:n}),o]})},un=({range:[e,t],onChange:r})=>m("div",{className:"flex items-center",children:[m("div",{className:"relative",children:[s("div",{className:N("flex absolute inset-y-0 left-0","items-center pl-3 pointer-events-none"),children:s(_t,{className:"w-5 text-gray-400"})}),s("input",{onChange:a=>r([new Date(a.currentTarget.value),t]),name:"start",type:"date",value:(e==null?void 0:e.toISOString().slice(0,10))||"",className:N("bg-gray-50 border border-gray-300","text-gray-900 sm:text-sm rounded-l-lg block w-full pl-10 p-2.5"),placeholder:"Select date start"})]}),m("div",{className:"relative",children:[s("div",{className:N("flex absolute inset-y-0 left-0","items-center pl-3 pointer-events-none"),children:s("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none",children:s(_t,{className:"w-5 text-gray-400"})})}),s("input",{name:"end",type:"date",onChange:a=>r([e,new Date(a.currentTarget.value)]),value:(t==null?void 0:t.toISOString().slice(0,10))||"",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-r-lg block w-full pl-10 p-2.5",placeholder:"Select date end"})]})]}),{fromEntries:at,entries:nt}=Object;function fn(e){const t=f.exports.useMemo(()=>at(nt(e).map(([i,{defaultValue:l}])=>[i,l])),[e]),[r,a]=f.exports.useState({}),n=f.exports.useMemo(()=>at(nt(t).map(([i,l])=>[i,r[i]||l])),[t,r]),o=f.exports.useMemo(()=>at(nt(e).map(([i,l])=>[i,{value:n[i],setValue:c=>a(F(k({},n),{[i]:c})),config:l}])),[e,n]);return{values:n,fields:o}}const pn=e=>{const t=f.exports.useRef(!0);return f.exports.useEffect(()=>(t.current=!0,e==null||e(),()=>{t.current=!1}),[]),t},st="token",ot="refresh_token";function er(){return{accessToken:localStorage.getItem(st),refreshToken:localStorage.getItem(ot)}}function vn(){const[e,t]=f.exports.useState(()=>er()),{accessToken:r,refreshToken:a}=e,n=f.exports.useCallback(o=>{t(o);const{accessToken:i,refreshToken:l}=o;i?localStorage.setItem(st,i):localStorage.removeItem(st),l?localStorage.setItem(ot,l):localStorage.removeItem(ot)},[]);return f.exports.useEffect(()=>{const o=()=>{const i=er();i.accessToken===r&&i.refreshToken===a||t(i)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[r,a]),[e,n]}var hn="/assets/logo.0bd15c82.svg";const mn=({form:e,onSubmit:t,label:r="Submit"})=>{const[a,n]=f.exports.useState(!1),o=pn(),i=f.exports.useCallback(async()=>{n(!0),await t(e.values),o.current&&n(!1)},[e.values,o,t]);return s(ve,{loading:a,disabled:a,label:r,onClick:i})},gn=()=>{const{signIn:e}=Ge(),t=fn(f.exports.useMemo(()=>({email:{type:"email",label:"Email",defaultValue:""},password:{type:"password",label:"Password",defaultValue:""}}),[]));return f.exports.useCallback(()=>{},[]),s(Ae,{children:s("div",{className:"flex justify-center items-center h-full",children:m("div",{className:"w-96 space-y-4 flex flex-col items-center",children:[s("img",{src:hn,alt:"logo",className:"w-24 h-24"}),s("span",{children:"VinehealthPRO"}),s(Nt,{field:t.fields.email}),s(Nt,{field:t.fields.password}),s("div",{className:"pt-4 flex w-full",children:s(mn,{label:"Sign in",form:t,onSubmit:e})})]})})})};class wn{constructor(t){this.config=t}get apiEndpoint(){return this.config.apiEndpoint}}const xn=()=>{const e=G(),t=Re(),[r,a]=f.exports.useState({rowsPerPage:25,page:1}),{page:n,rowsPerPage:o}=r,{data:i}=D([n,o],()=>e.getOrganisations({page:n,perPage:o})),{organisations:l,totalCount:c}=i||{organisations:[],totalCount:0},u=f.exports.useMemo(()=>[{label:"Organisation name",stickyColumn:!0,RowCell:({name:h})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:h})},{label:"created",RowCell:({dateCreated:h})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:h.toLocaleDateString()})},{label:"projects",RowCell:({projectsCount:h})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:h})},{label:"users",RowCell:({usersCount:h})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:h})}],[]),d=f.exports.useCallback(({organisationId:h})=>t.push(`/organisations/${h}`),[t]);return s(Ae,{navigation:!0,title:"Organisations",children:m("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[m("div",{className:"mb-4 flex flex-row space-x-4  rounded-t-lg",children:[s("div",{className:"flex flex-col flex-1 w-full",children:m("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(pe,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:"",onChange:({currentTarget:h})=>{},placeholder:"",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:s(ve,{label:"ADD ORGANISATION",intent:"primary",onClick:()=>{}})})]}),s(ke,{page:n,data:l,rowsPerPage:o,totalRows:c,headers:u,onRowClick:d,getRowId:({organisationId:h})=>h,onPageChange:h=>a(F(k({},r),{page:h})),onRowsPerPageChange:h=>a(F(k({},r),{rowsPerPage:h}))})]})})},tr=({label:e})=>s("div",{children:s("div",{className:N("inline-flex py-1 px-2 text-sm rounded-full","h-fit m-1",{"bg-red-300":e==="EQ5D","bg-cyan-300":e==="FACTG","bg-violet-300":e==="QLQC30","bg-lime-300":e==="BN20"}),children:e})}),yn=()=>{const e=G(),{organisationId:t}=ee(),{data:r}=D(["organisation",t],async()=>(await e.getOrganisation(t)).data),a=`/organisations/${t}`,n=Re(),{data:o}=D(["programs",t],()=>e.getPrograms({organisationId:t})),i=f.exports.useCallback(({projectId:p})=>n.push(`/programs/${p}`),[n]),[l,c]=f.exports.useState(1),[u,d]=f.exports.useState(25),g=f.exports.useMemo(()=>[{label:"Project name",stickyColumn:!0,defaultWidth:300,RowCell:({name:p,imageThumbnailUrl:v})=>m("div",{className:"flex space-x-4 items-center px-6 py-4 whitespace-nowrap overflow-hidden",children:[s("div",{className:"w-14 h-14 border bg-slate-50 rounded-md shrink-0",style:{backgroundImage:`url(${v})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),s("div",{className:"text-ellipsis overflow-hidden",children:p})]})},{label:"Questionnaire types",defaultWidth:300,RowCell:({availableQuestionnaireTypes:p})=>s("div",{className:"flex flex-wrap h-full items-center p-2",children:p.map(v=>s(tr,{label:v},v))})},{label:"consented patients",RowCell:({consentedPatientsCount:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p})},{label:"created",defaultWidth:150,RowCell:({dateCreated:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p.toLocaleDateString()})},{label:"updated",defaultWidth:150,RowCell:({dateUpdated:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap overflow-hidden text-ellipsis flex items-center",children:p.toLocaleDateString()})},{label:"end date",defaultWidth:150,RowCell:({endDate:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap  overflow-hidden text-ellipsis flex items-center",children:p==null?void 0:p.toLocaleDateString()})},{label:"free text",defaultWidth:120,RowCell:({disableFreeText:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap flex items-center",children:p&&s(Nr,{className:"w-6 text-green-500"})})},{label:"users",RowCell:({usersCount:p})=>s("div",{className:"px-6 py-4 whitespace-nowrap flex items-center",children:p})}],[]),{totalCount:h,programs:w}=o||{programs:[],totalCount:0},x=f.exports.useCallback(({projectId:p})=>p,[]);return s(Ae,{navigation:!0,title:`${r==null?void 0:r.name} organisation`,breadcrumbs:[{href:"/organisations",label:"Organisations",Icon:bt}],sections:[{label:"Programs",link:`${a}/programs`},{label:"Settings",link:`${a}/settings`}],children:m("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[m("div",{className:"mb-4 flex flex-row space-x-4 rounded-t-lg",children:[s("div",{className:"flex flex-col flex-1 w-full",children:m("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(pe,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:"",onChange:({currentTarget:p})=>{},placeholder:"",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:s(ve,{label:"ADD PROGRAM",intent:"primary",onClick:()=>{}})})]}),s(ke,{page:l,rowsPerPage:u,totalRows:h,headers:g,data:w,getRowId:x,onPageChange:c,onRowsPerPageChange:d,onRowClick:i})]})})},bn=Array.from({length:999}).map((e,t)=>({id:t,label:`${t} row`})),En=()=>s("div",{className:"flex overflow-hidden flex-col h-full",children:s(Tt,{data:bn,getRowId:({id:e})=>`${e}`,headers:[{label:"",RowCell:({label:e})=>s("div",{children:e})}],showHeader:!1,onPageRequest:e=>console.log("next")})}),_n=()=>{const e=G(),{programId:t,participantId:r}=ee(),{data:a}=D([t],async()=>(await e.getProgram(t)).data),{data:n}=D([t,r],async()=>(await e.getPatient({participantId:r,programId:t})).data),{data:o}=D([t,"patients"],async()=>(await e.getPatients({programId:t})).data);return s(ae,{programId:t,participants:o||[],program:a,selectedParticipantId:r,children:m("div",{className:"flex flex-col outline-hidden overflow-hidden w-ful h-full",children:[s("div",{className:"flex shrink-0",children:m("div",{className:"text-4xl flex flex-1 border-b border-gray-600",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]})}),m("div",{className:"flex flex-row w-full overflow-hidden h-full",children:[s("div",{className:"flex w-60 flex-col border-r border-gray-600 h-full overflow-hidden",children:s(En,{})}),s("div",{className:"flex flex-1",children:"content"})]})]})})},Nn=()=>{const e=G(),{programId:t}=ee(),{data:r}=D([t],async()=>(await e.getProgram(t)).data),{data:a}=D([t,"patients"],async()=>(await e.getPatients({programId:t})).data);return s(ae,{programId:t,program:r,participants:a||[],children:"questionnaires"})},_e=({children:e,title:t})=>s("div",{children:m(he,{children:[s("div",{className:N("border-b border-gray-200","text-lg","p-4","sticky"),children:t}),e]})});function On(e,t){const r=f.exports.useRef(t);r.current=t;const a=f.exports.useRef(!!e);f.exports.useEffect(()=>{a.current||!e||(a.current=!0,r.current())},[e])}const Tn=()=>{var i,l;const e=G(),{programId:t}=ee(),{data:r}=D([t],async()=>(await e.getProgram(t)).data),[a,n]=f.exports.useState([r==null?void 0:r.startDate,(r==null?void 0:r.endDate)||new Date]);On(r,()=>n([r==null?void 0:r.startDate,(r==null?void 0:r.endDate)||new Date]));const{data:o}=D([t,(i=a[0])==null?void 0:i.valueOf(),(l=a[1])==null?void 0:l.valueOf()],async()=>{if(!(!a[0]||!a[1]))return e.getMedications({programId:t,startDate:a[0],endDate:a[1]})});return console.log(o),s(ae,{programId:t,program:r,children:m("div",{className:"overflow-hidden p-4 flex flex-col",children:[s("div",{className:"border border-b-gray-300 pb-4",children:s(un,{range:a,onChange:n})}),m("div",{className:N("pt-2","grid gap-4 grid-cols-2 auto overflow-y-auto"),style:{gridTemplateColumns:"repeat(auto-fit, minmax(520px, 1fr))"},children:[s(_e,{title:"General",children:m("div",{className:"flex flex-col p-4",children:["Start date: ",r==null?void 0:r.startDate.toLocaleDateString(),r==null?void 0:r.availableQuestionnaireTypes.map(c=>s(tr,{label:c},c)),r==null?void 0:r.consentedPatientsCount," Consented patients"]})}),s(_e,{title:"Temperature trends",children:s("div",{className:"p-4",children:"There have been no new temperature logs in the selected time frame"})}),s(_e,{title:"Medication adherence"}),s(_e,{title:"Most logged symptoms"}),s(_e,{title:"Symptoms Trends"})]})]})})},Sn=()=>{const e=G(),{programId:t}=ee(),{data:r}=D([t],async()=>(await e.getProgram(t)).data),{data:a}=D([t,"patients"],async()=>(await e.getPatients({programId:t})).data);return s(ae,{programId:t,program:r,participants:a||[],children:"team"})};var it;(function(e){e.CONSENT_GIVEN="Consented",e.AWAITING_CONSENT="Invite sent"})(it||(it={}));const In=({consentGiven:e})=>s("div",{className:"text-sm mr-4 justify-end flex flex-1 flex-row items-center",children:m("div",{className:N("inline-flex","whitespace-nowrap","border rounded-md border-slate-300","h-fit"),children:[!e&&m("button",{onClick:()=>{},className:N("bg-gray-100 p-2 hover:bg-gray-200","rounded-l-md flex items-center"),children:[s(Tr,{className:"w-4 mr-1"}),"Resend invite"]}),s("button",{onClick:()=>{},className:N("p-2 bg-gray-100 hover:bg-gray-200",{"rounded-r-md":!0,"rounded-l-md":e,"border-l":!e}),children:s(wt,{className:"w-6"})})]})}),Cn=()=>{const{programId:e}=ee(),t=G(),r=Re(),[a,n]=f.exports.useState(1),[o,i]=f.exports.useState(25),[l,c]=f.exports.useState(""),{data:u}=D([e],async()=>(await t.getProgram(e)).data),{data:d}=D([e,"patients",a,o,l],()=>t.getPatients({programId:e,perPage:o,page:a,term:l}),{keepPreviousData:!0}),{patients:g,totalCount:h}=d||{patients:[],totalCount:0},w=f.exports.useMemo(()=>[{label:"Patient Name",stickyColumn:!0,RowCell:({firstName:v,lastName:b})=>s("div",{className:N("px-6 py-4 whitespace-nowrap","text-ellipsis overflow-hidden"),children:s($e,{text:`${v} ${b}`,term:l})})},{label:"status",defaultWidth:150,RowCell:({consentStatus:v})=>s("div",{className:"px-6 py-4 whitespace-nowrap",children:s("div",{className:N("inline-flex rounded-full py-1 px-3 text-sm",{"bg-green-300":v==="CONSENT_GIVEN","bg-yellow-300":v==="AWAITING_CONSENT"}),children:it[v]})})},{label:"email",defaultWidth:300,RowCell:({email:v})=>s("div",{className:N("text-gray-500 px-6 py-4","whitespace-nowrap overflow-hidden text-ellipsis"),children:s($e,{text:v,term:l})})}],[l]),x=f.exports.useCallback(({id:v})=>r.push(`/programs/${e}/participants/${v}`),[r,e]),p=f.exports.useCallback(({id:v})=>v,[]);return s(ae,{programId:e,program:u,children:m("div",{className:"flex flex-1 h-full overflow-hidden px-4 pt-4 flex-col",children:[m("div",{className:"flex flex-row space-x-4 rounded-t-lg mb-4",children:[s("div",{className:"p-2 text-secondary-900",children:s(yt,{to:`/organisations/${u==null?void 0:u.organisation.organisationId}`,children:s(Et,{className:"w-6"})})}),s("div",{className:"flex flex-col flex-1 w-full",children:m("div",{className:"relative rounded-md shadow-sm",children:[s("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s(pe,{className:"text-gray-500 w-5"})}),s("input",{type:"text",value:l,onChange:({currentTarget:v})=>c(v.value),placeholder:"Search for patient",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 pr-12  border-gray-300 rounded-md"})]})}),s("div",{children:m(ve,{intent:"primary",onClick:()=>{},children:[s(Or,{className:"w-6 mr-2"}),"INVITE NEW PATIENT"]})})]}),s(ke,{onPageChange:n,page:a,rowsPerPage:o,totalRows:h,onRowsPerPageChange:i,onRowClick:x,headers:w,data:g,getRowId:p,RowAction:In})]})})},Rn=()=>{const e=G(),{programId:t}=ee(),{data:r}=D([t],async()=>(await e.getProgram(t)).data),{data:a}=D([t,"patients"],async()=>(await e.getPatients({programId:t})).data);return s(ae,{programId:t,program:r,participants:a||[],children:"settings"})},An=new wn({apiEndpoint:"https://staging.api.vinehealth.ai/api/v1"}),Dn=e=>e.filter(Boolean).map(([r,a,n=!0])=>typeof a=="string"?s(Sr,{exact:n,path:r,to:a},r):s(Ir,{exact:n,path:r,component:a},r)),kn=f.exports.memo(()=>{const{isSigned:e}=Ge(),t=Dn([!e&&["/login",gn],!e&&["/*","/login",!1],["/login","/"],["/","/organisations"],["/organisations/:organisationId","/organisations/:organisationId/programs"],["/organisations",xn],["/organisations/:organisationId/programs",yn],["/programs/:programId","/programs/:programId/enrolment"],["/programs/:programId/enrolment",Cn],["/programs/:programId/reports",Tn],["/programs/:programId/questionnaires",Nn],["/programs/:programId/team",Sn],["/programs/:programId/settings",Rn],["/programs/:programId/participants/:participantId",_n],["*",()=>s("div",{children:"404"}),!1]]);return s(Cr,{children:s(Rr,{children:t})})}),Mn=new Ar,Pn=f.exports.memo(()=>{const e=vn(),t=Jr(An,e),r=Hr(t,e),{loading:a}=r;return a?s("div",{children:"loading"}):(console.log("loading",a),s(St.Provider,{value:r,children:s(At.Provider,{value:t,children:s(Dr,{client:Mn,children:s(kn,{})})})}))});kr.render(s(Mr.StrictMode,{children:s(Pn,{})}),document.getElementById("root"));
